(window.webpackJsonp=window.webpackJsonp||[]).push([[145,139],{535:function(e,t,n){"use strict";n.d(t,"a",function(){return a});n(1),n(565);function a(e){return e.ui.selectedSiteId}},538:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r}),n.d(t,"d",function(){return i}),n.d(t,"e",function(){return c}),n.d(t,"c",function(){return s}),n.d(t,"f",function(){return o}),n.d(t,"h",function(){return u}),n.d(t,"g",function(){return l}),n.d(t,"j",function(){return d}),n.d(t,"i",function(){return m}),n.d(t,"k",function(){return p}),n.d(t,"l",function(){return f}),n.d(t,"p",function(){return E}),n.d(t,"q",function(){return _}),n.d(t,"r",function(){return O}),n.d(t,"s",function(){return b}),n.d(t,"t",function(){return h}),n.d(t,"u",function(){return g}),n.d(t,"y",function(){return v}),n.d(t,"z",function(){return C}),n.d(t,"A",function(){return S}),n.d(t,"v",function(){return N}),n.d(t,"w",function(){return y}),n.d(t,"x",function(){return j}),n.d(t,"C",function(){return I}),n.d(t,"E",function(){return R}),n.d(t,"D",function(){return P}),n.d(t,"B",function(){return k}),n.d(t,"F",function(){return M}),n.d(t,"G",function(){return T}),n.d(t,"H",function(){return A}),n.d(t,"I",function(){return L}),n.d(t,"J",function(){return w}),n.d(t,"K",function(){return x}),n.d(t,"m",function(){return D}),n.d(t,"n",function(){return W}),n.d(t,"o",function(){return U}),n.d(t,"L",function(){return V}),n.d(t,"M",function(){return G}),n.d(t,"N",function(){return H}),n.d(t,"O",function(){return F}),n.d(t,"P",function(){return B}),n.d(t,"Q",function(){return z}),n.d(t,"R",function(){return q}),n.d(t,"W",function(){return Z}),n.d(t,"X",function(){return K}),n.d(t,"Y",function(){return Q}),n.d(t,"Z",function(){return Y}),n.d(t,"ab",function(){return $}),n.d(t,"bb",function(){return X}),n.d(t,"cb",function(){return J}),n.d(t,"db",function(){return ee}),n.d(t,"eb",function(){return te}),n.d(t,"fb",function(){return ne}),n.d(t,"gb",function(){return ae}),n.d(t,"hb",function(){return re}),n.d(t,"ib",function(){return ie}),n.d(t,"jb",function(){return ce}),n.d(t,"kb",function(){return se}),n.d(t,"lb",function(){return oe}),n.d(t,"mb",function(){return ue}),n.d(t,"nb",function(){return le}),n.d(t,"ob",function(){return de}),n.d(t,"pb",function(){return me}),n.d(t,"rb",function(){return pe}),n.d(t,"qb",function(){return fe}),n.d(t,"sb",function(){return Ee}),n.d(t,"tb",function(){return _e}),n.d(t,"ub",function(){return Oe}),n.d(t,"vb",function(){return be}),n.d(t,"wb",function(){return he}),n.d(t,"xb",function(){return ge}),n.d(t,"yb",function(){return ve}),n.d(t,"zb",function(){return Ce}),n.d(t,"Ab",function(){return Se}),n.d(t,"Bb",function(){return Ne}),n.d(t,"Cb",function(){return ye}),n.d(t,"Db",function(){return je}),n.d(t,"Eb",function(){return Ie}),n.d(t,"Fb",function(){return Re}),n.d(t,"Gb",function(){return Pe}),n.d(t,"Hb",function(){return ke}),n.d(t,"Ib",function(){return Me}),n.d(t,"U",function(){return Te}),n.d(t,"V",function(){return Ae}),n.d(t,"S",function(){return Le}),n.d(t,"T",function(){return we});var a="WOOCOMMERCE_ACTION_LIST_ANNOTATE",r="WOOCOMMERCE_ACTION_LIST_CLEAR",i="WOOCOMMERCE_ACTION_LIST_STEP_NEXT",c="WOOCOMMERCE_ACTION_LIST_STEP_SUCCESS",s="WOOCOMMERCE_ACTION_LIST_STEP_FAILURE",o="WOOCOMMERCE_COUNT_REQUEST",u="WOOCOMMERCE_COUNT_REQUEST_SUCCESS",l="WOOCOMMERCE_COUNT_REQUEST_FAILURE",d="WOOCOMMERCE_ERROR_SET",m="WOOCOMMERCE_ERROR_CLEAR",p="WOOCOMMERCE_LOCATIONS_REQUEST",f="WOOCOMMERCE_LOCATIONS_REQUEST_SUCCESS",E="WOOCOMMERCE_ORDER_DELETE",_="WOOCOMMERCE_ORDER_DELETE_FAILURE",O="WOOCOMMERCE_ORDER_DELETE_SUCCESS",b="WOOCOMMERCE_ORDER_INVOICE_SEND",h="WOOCOMMERCE_ORDER_INVOICE_SEND_FAILURE",g="WOOCOMMERCE_ORDER_INVOICE_SEND_SUCCESS",v="WOOCOMMERCE_ORDER_NOTE_CREATE",C="WOOCOMMERCE_ORDER_NOTE_CREATE_FAILURE",S="WOOCOMMERCE_ORDER_NOTE_CREATE_SUCCESS",N="WOOCOMMERCE_ORDER_NOTES_REQUEST",y="WOOCOMMERCE_ORDER_NOTES_REQUEST_FAILURE",j="WOOCOMMERCE_ORDER_NOTES_REQUEST_SUCCESS",I="WOOCOMMERCE_ORDER_REFUND_CREATE",R="WOOCOMMERCE_ORDER_REFUND_CREATE_SUCCESS",P="WOOCOMMERCE_ORDER_REFUND_CREATE_FAILURE",k="WOOCOMMERCE_ORDER_REFUNDS_REQUEST_SUCCESS",M="WOOCOMMERCE_ORDER_REQUEST",T="WOOCOMMERCE_ORDER_REQUEST_FAILURE",A="WOOCOMMERCE_ORDER_REQUEST_SUCCESS",L="WOOCOMMERCE_ORDER_UPDATE",w="WOOCOMMERCE_ORDER_UPDATE_FAILURE",x="WOOCOMMERCE_ORDER_UPDATE_SUCCESS",D="WOOCOMMERCE_ORDERS_REQUEST",W="WOOCOMMERCE_ORDERS_REQUEST_FAILURE",U="WOOCOMMERCE_ORDERS_REQUEST_SUCCESS",V="WOOCOMMERCE_SERVICES_SHIPPING_ACTION_LIST_CREATE",G="WOOCOMMERCE_SETTINGS_PRODUCTS_CHANGE_SETTING",H="WOOCOMMERCE_SETTINGS_PRODUCTS_REQUEST",F="WOOCOMMERCE_SETTINGS_PRODUCTS_REQUEST_SUCCESS",B="WOOCOMMERCE_SETTINGS_PRODUCTS_UPDATE_REQUEST",z="WOOCOMMERCE_SETTINGS_PRODUCTS_UPDATE_REQUEST_FAILURE",q="WOOCOMMERCE_SETTINGS_PRODUCTS_UPDATE_REQUEST_SUCCESS",Z="WOOCOMMERCE_SHIPPING_ZONE_ADD",K="WOOCOMMERCE_SHIPPING_ZONE_CANCEL",Q="WOOCOMMERCE_SHIPPING_ZONE_CLOSE",Y="WOOCOMMERCE_SHIPPING_ZONE_DELETED",$="WOOCOMMERCE_SHIPPING_ZONE_EDIT_NAME",X="WOOCOMMERCE_SHIPPING_ZONE_LOCATIONS_CANCEL",J="WOOCOMMERCE_SHIPPING_ZONE_LOCATIONS_CLOSE",ee="WOOCOMMERCE_SHIPPING_ZONE_LOCATIONS_EDIT",te="WOOCOMMERCE_SHIPPING_ZONE_LOCATIONS_EDIT_POSTCODE",ne="WOOCOMMERCE_SHIPPING_ZONE_LOCATIONS_FILTER_BY_POSTCODE",ae="WOOCOMMERCE_SHIPPING_ZONE_LOCATIONS_FILTER_BY_STATE",re="WOOCOMMERCE_SHIPPING_ZONE_LOCATIONS_FILTER_BY_WHOLE_COUNTRY",ie="WOOCOMMERCE_SHIPPING_ZONE_LOCATIONS_SELECT_CONTINENT",ce="WOOCOMMERCE_SHIPPING_ZONE_LOCATIONS_SELECT_COUNTRY",se="WOOCOMMERCE_SHIPPING_ZONE_LOCATIONS_SELECT_STATE",oe="WOOCOMMERCE_SHIPPING_ZONE_LOCATIONS_UPDATED",ue="WOOCOMMERCE_SHIPPING_ZONE_METHODS_REQUEST",le="WOOCOMMERCE_SHIPPING_ZONE_METHODS_REQUEST_SUCCESS",de="WOOCOMMERCE_SHIPPING_ZONE_METHOD_ADD",me="WOOCOMMERCE_SHIPPING_ZONE_METHOD_CANCEL",pe="WOOCOMMERCE_SHIPPING_ZONE_METHOD_CLOSE",fe="WOOCOMMERCE_SHIPPING_ZONE_METHOD_CHANGE_TYPE",Ee="WOOCOMMERCE_SHIPPING_ZONE_METHOD_CREATE",_e="WOOCOMMERCE_SHIPPING_ZONE_METHOD_DELETE",Oe="WOOCOMMERCE_SHIPPING_ZONE_METHOD_DELETED",be="WOOCOMMERCE_SHIPPING_ZONE_METHOD_EDIT_TITLE",he="WOOCOMMERCE_SHIPPING_ZONE_METHOD_OPEN",ge="WOOCOMMERCE_SHIPPING_ZONE_METHOD_REMOVE",ve="WOOCOMMERCE_SHIPPING_ZONE_METHOD_SET_CONDITION",Ce="WOOCOMMERCE_SHIPPING_ZONE_METHOD_SET_COST",Se="WOOCOMMERCE_SHIPPING_ZONE_METHOD_SET_MIN_COST",Ne="WOOCOMMERCE_SHIPPING_ZONE_METHOD_SET_TAXABLE",ye="WOOCOMMERCE_SHIPPING_ZONE_METHOD_TOGGLE_ENABLED",je="WOOCOMMERCE_SHIPPING_ZONE_METHOD_TOGGLE_OPENED_ENABLED",Ie="WOOCOMMERCE_SHIPPING_ZONE_METHOD_UPDATE",Re="WOOCOMMERCE_SHIPPING_ZONE_METHOD_UPDATED",Pe="WOOCOMMERCE_SHIPPING_ZONE_OPEN",ke="WOOCOMMERCE_SHIPPING_ZONE_REMOVE",Me="WOOCOMMERCE_SHIPPING_ZONE_UPDATED",Te="WOOCOMMERCE_SHIPPING_ZONES_REQUEST",Ae="WOOCOMMERCE_SHIPPING_ZONES_REQUEST_SUCCESS",Le="WOOCOMMERCE_SHIPPING_CLASSES_REQUEST",we="WOOCOMMERCE_SHIPPING_CLASSES_REQUEST_SUCCESS"},540:function(e,t,n){"use strict";n.d(t,"j",function(){return f}),n.d(t,"t",function(){return E}),n.d(t,"s",function(){return _}),n.d(t,"r",function(){return O}),n.d(t,"h",function(){return b}),n.d(t,"g",function(){return h}),n.d(t,"v",function(){return g}),n.d(t,"u",function(){return v}),n.d(t,"m",function(){return C}),n.d(t,"e",function(){return S}),n.d(t,"l",function(){return N}),n.d(t,"p",function(){return y}),n.d(t,"n",function(){return P}),n.d(t,"f",function(){return T}),n.d(t,"o",function(){return A}),n.d(t,"q",function(){return L}),n.d(t,"d",function(){return w}),n.d(t,"b",function(){return x}),n.d(t,"i",function(){return D}),n.d(t,"c",function(){return W}),n.d(t,"k",function(){return U}),n.d(t,"a",function(){return V});var a=n(1),r=n(34),i=n(546),c=n(535),s=n(559),o=n(549),u=n(544),l=n(573),d=n(578),m=n(574),p=n(575),f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(c.a)(e);return Object(a.get)(e,["extensions","woocommerce","woocommerceServices",n,"shippingLabel",t],null)},E=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(c.a)(e),a=f(e,t,n);return a&&a.loaded},_=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(c.a)(e),a=f(e,t,n);return a&&a.isFetching},O=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(c.a)(e),a=f(e,t,n);return a&&a.error},b=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(c.a)(e),a=f(e,t,n);return a&&a.loaded?a.labels:[]},h=function(e,t,n,a){return b(e,t,n).find(function(e){return e.label_id===a})},g=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(c.a)(e),a=f(e,t,n);return a&&a.fulfillOrder},v=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(c.a)(e),a=f(e,t,n);return a&&a.emailDetails},C=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(c.a)(e),a=f(e,t,n);return a&&a.refreshedLabelStatus},S=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(c.a)(e),a=f(e,t,n);return a&&a.form},N=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(c.a)(e),i=S(e,t,n);if(!i)return null;var s=i.rates,o=s.values,u=s.available,l=[],d=0,m=0,p=function(e){if(!(e in u))return"continue";var t=o[e],n=t.serviceId,i=t.signatureRequired,c=u[e].default.rates,s=null,p=null;i in u[e]&&(s=u[e][i].rates,p=Object(a.find)(s,function(e){return n===e.service_id})||null);var f=Object(a.find)(c,function(e){return n===e.service_id});if(f){var E=f.retail_rate-f.rate,_=f.rate,O={title:f.title,retailRate:f.retail_rate,rateWithDiscount:_,addons:[],carrierId:f.carrier_id,carrierTitle:f.title.split("-")[0].trim()};null!==p&&(O.addons=[{title:Object(r.translate)("Signature Required"),rate:p.rate-f.rate}],_=p.rate),l.push(O),d+=Object(a.round)(E,2),m+=_}};for(var f in o)p(f);return l.length?{prices:l,discount:d,total:m}:null},y=Object(i.a)(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(c.a)(e),r=S(e,t,n);if(Object(a.isEmpty)(r))return!1;var i=Object(l.a)(r.origin);if("US"===i.country&&Object(a.includes)(d.d,i.state))return!0;var s=Object(l.a)(r.destination);return!("US"!==s.country||!Object(a.includes)(d.d,s.state))||i.country!==s.country},function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(c.a)(e);return[S(e,t,n)]}),j=function(e,t,n,i){var c=t.values,s=Object(l.a)(t),o=s.phone,u=s.postcode,p=s.state,f=s.country,E={};return["name","address","city","postcode","country"].forEach(function(e){c[e]||(E[e]=Object(r.translate)("This field is required"))}),Object(a.includes)(d.a,f)&&!/^\d{5}(?:-\d{4})?$/.test(u)&&(E.postcode=Object(r.translate)("Invalid ZIP/Postal code format")),!p&&Object(m.j)(e,f,n)&&(E.state=Object(r.translate)("This field is required")),i&&(o?10!==o.split(/\D+/g).join("").replace(/^1/,"").length&&(E.phone=Object(r.translate)("Customs forms require a 10-digit phone number. Please edit your phone number so it has at most 10 digits.")):E.phone=Object(r.translate)("Please enter a phone number for your origin address. It's required because this shipment requires a customs form.")),E},I=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=e.isNormalized,c=e.isUnverifiable,s=e.normalized,o=e.ignoreValidation,u=e.fieldErrors;if((i||c)&&!s&&u)return u;if(i&&!s)return{address:Object(r.translate)("This address is not recognized. Please try another.")};var l=j(t,e,n,a);return o&&Object.keys(l).forEach(function(e){o[e]&&delete l[e]}),l},R=function(e,t,n,i){var c=Object(a.uniq)(Object(a.flatten)(Object(a.map)(e,function(e){return Object(a.map)(e.items,"product_id")}))),s=Object(a.zipObject)(c,Object(a.fill)(Array(c.length),0));Object(a.forEach)(e,function(e){Object(a.forEach)(e.items,function(e){var n=e.quantity,a=e.product_id;return s[a]+=n*t.items[a].value})});var o={};return Object(a.forEach)(Object(a.pick)(t.items,c),function(e,t){e.tariffNumber&&6===e.tariffNumber.length&&(o[e.tariffNumber]||(o[e.tariffNumber]=0),o[e.tariffNumber]+=s[t])}),{packages:Object(a.mapValues)(e,function(e){var c={};"other"!==e.contentsType||e.contentsExplanation||(c.contentsExplanation=Object(r.translate)("Please describe what kind of goods this package contains")),"other"!==e.restrictionType||e.restrictionComments||(c.restrictionComments=Object(r.translate)("Please describe what kind of restrictions this package must have"));var s=new Set;return Object(a.forEach)(e.items,function(e){var n=e.product_id,a=t.items[n].tariffNumber;2500<o[a]&&s.add(a)}),e.itn?/^(?:(?:AES X\d{14})|(?:NOEEI 30\.\d{1,2}(?:\([a-z]\)(?:\(\d\))?)?))$/.test(e.itn)||(c.itn=Object(r.translate)("Invalid format")):"CA"!==n&&(Object(a.isEmpty)(s)?Object(a.includes)(d.c,n)&&(c.itn=Object(r.translate)("International Transaction Number is required for shipments to %(country)s",{args:{country:i}})):c.itn=Object(r.translate)("International Transaction Number is required for shipping items valued over $2,500 per tariff number. Products with tariff number %(code)s add up to more than $2,500.",{args:{code:s.values().next().value}})),c}),items:Object(a.mapValues)(Object(a.pick)(t.items,c),function(e,n){var i={};return e.description||(i.description=Object(r.translate)("This field is required")),t.ignoreWeightValidation[n]||(Object(a.isNil)(e.weight)||""===e.weight?i.weight=Object(r.translate)("This field is required"):parseFloat(e.weight)>0||(i.weight=Object(r.translate)("Weight must be greater than zero"))),t.ignoreValueValidation[n]||(Object(a.isNil)(e.value)||""===e.value?i.value=Object(r.translate)("This field is required"):parseFloat(e.value)>0||(i.value=Object(r.translate)("Declared value must be greater than zero"))),e.tariffNumber&&6!==e.tariffNumber.length&&(i.tariffNumber=Object(r.translate)("The tariff number must be 6 digits long")),i})}},P=function(e){var t=e.values,n=e.available,r=Object(a.map)(n,function(e,n){return t[n]});return!Object(a.isEmpty)(r)&&Object(a.every)(r)},k=function(e){var t=e.values,n=e.available;return Object(a.mapValues)(n,function(e,n){if(!Object(a.isEmpty)(e.default.errors)){var i=e.default.errors.map(function(e){return e.userMessage||e.message}).filter(Boolean);return i.length?i:["We couldn't get a rate for this package, please try again."]}return t[n]&&t[n].serviceId?[]:Object(a.isEmpty)(e.default.rates)?[Object(r.translate)("No rates available, please double check dimensions and weight or try using different packaging.")]:[Object(r.translate)("Please choose a rate")]})},M=function(e){var t={};return e||(t.paperSize=Object(r.translate)("This field is required")),t},T=Object(i.a)(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(c.a)(e);if(!E(e,t,n))return{};var i=f(e,t,n),s=i.form,o=i.paperSize;if(Object(a.isEmpty)(s))return{};var u,l=s.destination.values.country,d=Object(m.g)(e,l,n),p=y(e,t,n);return{origin:I(s.origin,e,n,p),destination:I(s.destination,e,n),packages:(u=s.packages.selected,Object(a.mapValues)(u,function(e){var t={};"not_selected"===e.box_id&&(t.box_id=Object(r.translate)("Please select a package"));var n=function(e){return!Object(a.isFinite)(e)||0>=e};return n(e.weight)&&(t.weight=Object(r.translate)("Invalid weight")),Object(a.some)([e.length,e.width,e.height],n)&&(t.dimensions=Object(r.translate)("Package dimensions must be greater than zero")),t})),customs:R(s.packages.selected,s.customs,l,d),rates:k(s.rates),sidebar:M(o)}},function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(c.a)(e);return[f(e,t,n)]}),A=Object(i.a)(function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Object(c.a)(e),r=f(e,t,a).form,i="origin"===n&&y(e,t,a),s=j(e,r[n],a,i);return 0===Object.keys(s).length},function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Object(c.a)(e);return[f(e,t,a).form[n]]}),L=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(c.a)(e),r=S(e,t,n);if(!r)return!1;var i=Object(a.uniq)(Object(a.flatten)(Object(a.map)(r.packages.selected,function(e){return Object(a.map)(e.items,"product_id")})));return!Object(a.some)(i.map(function(e){return Object(a.isNil)(r.customs.items[e].tariffNumber)||r.customs.ignoreWeightValidation[e]||r.customs.ignoreValueValidation[e]}))},w=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(c.a)(e),r=S(e,t,n);if(!r)return null;var i=T(e,t,n);return r.origin.isNormalized&&Object(a.isEqual)(r.origin.values,r.origin.normalized)&&!Object(s.a)(i.origin)?r.destination.isNormalized&&Object(a.isEqual)(r.destination.values,r.destination.normalized)&&!Object(s.a)(i.destination)?Object(s.a)(i.packages)?"packages":!y(e,t,n)||!Object(s.a)(i.customs)&&L(e,t,n)?Object(s.a)(i.rates)?"rates":null:"customs":"destination":"origin"},x=Object(i.a)(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(c.a)(e),r=S(e,t,n);return!Object(a.isEmpty)(r)&&!w(e,t,n)&&!r.origin.normalizationInProgress&&!r.destination.normalizationInProgress&&!r.rates.retrievalInProgress&&!Object(a.isEmpty)(r.rates.available)},function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(c.a)(e);return[S(e,t,n),w(e,t,n)]}),D=Object(i.a)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(c.a)(e),n=Object(m.d)(e,t);return Object(p.b)(e,t)?Object(a.pick)(n,d.a):Object(a.pick)(n,d.b)},[m.d,p.b]),W=Object(i.a)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(c.a)(e),n=Object(m.d)(e,t);return Object(p.b)(e,t)?n:Object(a.pick)(n,d.b)},[m.d,p.b]),U=Object(i.a)(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(c.a)(e);if(!Object(m.j)(e,t,n))return null;var r=Object(m.i)(e,t,n),i={};return r.forEach(function(e){var t=e.code,n=e.name;return i[t]=n}),"US"!==t||Object(p.b)(e,n)?i:Object(a.omit)(i,d.d)},[m.i,p.b]),V=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(c.a)(e);return E(e,t,n)&&Object(o.d)(e,n)&&Object(u.i)(e,n)&&Object(m.b)(e,n)}},541:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"d",function(){return r}),n.d(t,"e",function(){return i}),n.d(t,"f",function(){return c}),n.d(t,"c",function(){return s}),n.d(t,"a",function(){return o}),n.d(t,"g",function(){return u}),n.d(t,"h",function(){return l}),n.d(t,"i",function(){return d}),n.d(t,"j",function(){return m}),n.d(t,"k",function(){return p}),n.d(t,"l",function(){return f}),n.d(t,"m",function(){return E}),n.d(t,"n",function(){return _}),n.d(t,"o",function(){return O}),n.d(t,"q",function(){return b}),n.d(t,"p",function(){return h}),n.d(t,"r",function(){return g}),n.d(t,"s",function(){return v}),n.d(t,"t",function(){return C}),n.d(t,"u",function(){return S}),n.d(t,"v",function(){return N}),n.d(t,"w",function(){return y}),n.d(t,"B",function(){return j}),n.d(t,"x",function(){return I}),n.d(t,"C",function(){return R}),n.d(t,"z",function(){return P}),n.d(t,"A",function(){return k}),n.d(t,"D",function(){return M}),n.d(t,"E",function(){return T}),n.d(t,"F",function(){return A}),n.d(t,"G",function(){return L}),n.d(t,"H",function(){return w}),n.d(t,"I",function(){return x}),n.d(t,"J",function(){return D}),n.d(t,"K",function(){return W}),n.d(t,"L",function(){return U}),n.d(t,"M",function(){return V}),n.d(t,"N",function(){return G}),n.d(t,"y",function(){return H}),n.d(t,"O",function(){return F}),n.d(t,"P",function(){return B}),n.d(t,"Q",function(){return z}),n.d(t,"R",function(){return q}),n.d(t,"S",function(){return Z}),n.d(t,"T",function(){return K}),n.d(t,"U",function(){return Q}),n.d(t,"Ob",function(){return Y}),n.d(t,"V",function(){return $}),n.d(t,"W",function(){return X}),n.d(t,"X",function(){return J}),n.d(t,"Y",function(){return ee}),n.d(t,"Z",function(){return te}),n.d(t,"ab",function(){return ne}),n.d(t,"bb",function(){return ae}),n.d(t,"cb",function(){return re}),n.d(t,"db",function(){return ie}),n.d(t,"eb",function(){return ce}),n.d(t,"fb",function(){return se}),n.d(t,"gb",function(){return oe}),n.d(t,"hb",function(){return ue}),n.d(t,"ib",function(){return le}),n.d(t,"jb",function(){return de}),n.d(t,"kb",function(){return me}),n.d(t,"lb",function(){return pe}),n.d(t,"nb",function(){return fe}),n.d(t,"mb",function(){return Ee}),n.d(t,"ob",function(){return _e}),n.d(t,"pb",function(){return Oe}),n.d(t,"qb",function(){return be}),n.d(t,"rb",function(){return he}),n.d(t,"sb",function(){return ge}),n.d(t,"tb",function(){return ve}),n.d(t,"ub",function(){return Ce}),n.d(t,"vb",function(){return Se}),n.d(t,"wb",function(){return Ne}),n.d(t,"xb",function(){return ye}),n.d(t,"zb",function(){return je}),n.d(t,"Ab",function(){return Ie}),n.d(t,"Bb",function(){return Re}),n.d(t,"Cb",function(){return Pe}),n.d(t,"Db",function(){return ke}),n.d(t,"Eb",function(){return Me}),n.d(t,"Fb",function(){return Te}),n.d(t,"Gb",function(){return Ae}),n.d(t,"Hb",function(){return Le}),n.d(t,"Ib",function(){return we}),n.d(t,"Jb",function(){return xe}),n.d(t,"yb",function(){return De}),n.d(t,"Lb",function(){return We}),n.d(t,"Kb",function(){return Ue}),n.d(t,"Mb",function(){return Ve}),n.d(t,"Nb",function(){return Ge}),n.d(t,"Pb",function(){return He}),n.d(t,"Qb",function(){return Fe}),n.d(t,"Rb",function(){return Be});var a="WOOCOMMERCE_SERVICES_LABELS_INIT_FORM",r="WOOCOMMERCE_SERVICES_LABELS_RESTORE_PRISTINE",i="WOOCOMMERCE_SERVICES_LABELS_SET_FORM_DATA_VALUE",c="WOOCOMMERCE_SERVICES_LABELS_SET_FORM_META_PROPERTY",s="WOOCOMMERCE_SERVICES_LABELS_OPEN_ADD_CARD_DIALOG",o="WOOCOMMERCE_SERVICES_LABELS_CLOSE_ADD_CARD_DIALOG",u="WOOCOMMERCE_SERVICES_PACKAGES_ADD_PACKAGE",l="WOOCOMMERCE_SERVICES_PACKAGES_DISMISS_MODAL",d="WOOCOMMERCE_SERVICES_PACKAGES_EDIT_PACKAGE",m="WOOCOMMERCE_SERVICES_PACKAGES_INIT_PACKAGES_FORM",p="WOOCOMMERCE_SERVICES_PACKAGES_REMOVE_PACKAGE",f="WOOCOMMERCE_SERVICES_PACKAGES_REMOVE_PREDEFINED",E="WOOCOMMERCE_SERVICES_PACKAGES_SAVE_PACKAGE",_="WOOCOMMERCE_SERVICES_PACKAGES_SAVE_PREDEFINED",O="WOOCOMMERCE_SERVICES_PACKAGES_SET_ADD_MODE",b="WOOCOMMERCE_SERVICES_PACKAGES_SET_IS_FETCH_ERROR",h="WOOCOMMERCE_SERVICES_PACKAGES_SET_IS_FETCHING",g="WOOCOMMERCE_SERVICES_PACKAGES_SET_IS_SAVING",v="WOOCOMMERCE_SERVICES_PACKAGES_SET_MODAL_ERROR",C="WOOCOMMERCE_SERVICES_PACKAGES_TOGGLE_ALL_PREDEFINED",S="WOOCOMMERCE_SERVICES_PACKAGES_TOGGLE_OUTER_DIMENSIONS",N="WOOCOMMERCE_SERVICES_PACKAGES_TOGGLE_PREDEFINED",y="WOOCOMMERCE_SERVICES_PACKAGES_UPDATE_PACKAGES_FIELD",j="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_ADD_ITEMS",I="WOOCOMMERCE_SERVICES_SERVICE_SETTINGS_UPDATE_FIELD",R="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_ADD_PACKAGE",P="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_ADDRESS_NORMALIZATION_COMPLETED",k="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_ADDRESS_NORMALIZATION_IN_PROGRESS",M="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_CLEAR_AVAILABLE_RATES",T="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_CLOSE_ADD_ITEM",A="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_CLOSE_DETAILS_DIALOG",L="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_CLOSE_ITEM_MOVE",w="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_CLOSE_REFUND_DIALOG",x="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_CLOSE_REPRINT_DIALOG",D="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_CONFIRM_ADDRESS_SUGGESTION",W="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_CONFIRM_REPRINT",U="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_EDIT_ADDRESS",V="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_EDIT_UNVERIFIABLE_ADDRESS",G="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_EXIT_PRINTING_FLOW",H="WOOCOMMERCE_SERVICES_SHIPPING_EXIT_TRACKING_FLOW",F="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_INIT",B="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_MOVE_ITEM",z="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_OPEN_ADD_ITEM",q="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_OPEN_DETAILS_DIALOG",Z="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_OPEN_ITEM_MOVE",K="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_OPEN_PACKAGE",Q="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_OPEN_PRINTING_FLOW",Y="WOOCOMMERCE_SERVICES_SHIPPING_OPEN_TRACKING_FLOW",$="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_OPEN_REFUND_DIALOG",X="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_OPEN_REPRINT_DIALOG",J="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_PURCHASE_REQUEST",ee="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_PURCHASE_RESPONSE",te="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_RATES_RETRIEVAL_COMPLETED",ne="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_RATES_RETRIEVAL_IN_PROGRESS",ae="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_REFUND_REQUEST",re="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_REFUND_RESPONSE",ie="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_REMOVE_IGNORE_VALIDATION",ce="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_REMOVE_PACKAGE",se="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_REPRINT_DIALOG_ERROR",oe="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_REPRINT_DIALOG_READY",ue="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_SAVE_CUSTOMS",le="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_SAVE_PACKAGES",de="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_SELECT_NORMALIZED_ADDRESS",me="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_SET_ABANDON_ON_NON_DELIVERY",pe="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_SET_ADDED_ITEM",fe="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_SET_CONTENTS_TYPE",Ee="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_SET_CONTENTS_EXPLANATION",_e="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_SET_CUSTOMS_ITEM_DESCRIPTION",Oe="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_SET_CUSTOMS_ITEM_ORIGIN_COUNTRY",be="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_SET_CUSTOMS_ITEM_TARIFF_NUMBER",he="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_SET_CUSTOMS_ITEM_VALUE",ge="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_SET_CUSTOMS_ITEM_WEIGHT",ve="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_SET_EMAIL_DETAILS",Ce="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_SET_FETCH_ERROR",Se="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_SET_FULFILL_ORDER",Ne="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_SET_IS_FETCHING",ye="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_SET_ITN",je="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_SET_PACKAGE_TYPE",Ie="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_SET_RATES",Re="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_SET_RESTRICTION_COMMENTS",Pe="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_SET_RESTRICTION_TYPE",ke="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_SET_TARGET_PACKAGE",Me="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_SHOW_PRINT_CONFIRMATION",Te="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_STATUS_RESPONSE",Ae="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_STATUS_RETRIEVAL_IN_PROGRESS",Le="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_TOGGLE_STEP",we="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_UPDATE_ADDRESS_VALUE",xe="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_UPDATE_PACKAGE_WEIGHT",De="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_SET_PACKAGE_SIGNATURE",We="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_UPDATE_RATE",Ue="WOOCOMMERCE_SERVICES_SHIPPING_LABEL_UPDATE_PAPER_SIZE",Ve="WOOCOMMERCE_SERVICES_SHIPPING_METHOD_SCHEMA_REQUEST",Ge="WOOCOMMERCE_SERVICES_SHIPPING_METHOD_SCHEMA_REQUEST_SUCCESS",He="WOOCOMMERCE_SERVICES_SHIPPING_ZONE_METHOD_SETTINGS_REQUEST",Fe="WOOCOMMERCE_SERVICES_SHIPPING_ZONE_METHOD_SETTINGS_REQUEST_SUCCESS",Be="WOOCOMMERCE_SERVICES_SHIPPING_ZONE_METHOD_UPDATE"},542:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return r});var a="LOADING",r="ERROR"},544:function(e,t,n){"use strict";n.d(t,"e",function(){return f}),n.d(t,"b",function(){return _}),n.d(t,"d",function(){return O}),n.d(t,"a",function(){return b}),n.d(t,"c",function(){return h}),n.d(t,"f",function(){return g}),n.d(t,"i",function(){return v}),n.d(t,"h",function(){return C}),n.d(t,"g",function(){return S});var a=n(110),r=n.n(a),i=n(36),c=n.n(i),s=n(1),o=n(34),u=n(546),l=n(535),d=n(578),m=n(573),p=n(540),f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(l.a)(e);return Object(s.get)(e,["extensions","woocommerce","woocommerceServices",t,"packages"],null)},E=function(e){return e&&e.predefinedSchema?Object.keys(e.predefinedSchema):[]},_=Object(u.a)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(l.a)(e),n=f(e,t);if(!n||!n.predefinedSchema||!n.packages)return null;var a=[];Object(s.forEach)(n.predefinedSchema,function(e,t){var r=(n.packages.predefined||{})[t]||[];Object(s.forEach)(e,function(e){var n=e.definitions;Object(s.forEach)(n,function(e){Object(s.includes)(r,e.id)&&a.push(c()({},e,{serviceId:t}))})})});var r=(n.packages.custom||[]).map(function(e,t){return c()({},e,{index:t})});return Object(s.orderBy)(a.concat(r),"name")},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(l.a)(e),n=f(e,t);if(!n||!n.packages)return[];var a=E(n);return[].concat(r()(n.packages.custom||[]),r()(a.map(function(e){return(n.packages.predefined||{})[e]})))}),O=Object(u.a)(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(l.a)(e),a=f(e,n);if(!a||!a.predefinedSchema||!a.packages)return null;var r=Object(p.e)(e,t,n),i=Object(m.a)(r.origin).country,c=Object(m.a)(r.destination).country,u=d.a.includes(i)&&!d.a.includes(c),E={custom:{title:Object(o.translate)("Custom Packages"),definitions:a.packages.custom}};return Object(s.forEach)(a.predefinedSchema,function(e,t){var n=(a.packages.predefined||{})[t]||[];Object(s.forEach)(e,function(e,t){var a=e.definitions,r={title:e.title,definitions:[]};Object(s.forEach)(a,function(e){u&&!1===e.can_ship_international||Object(s.includes)(n,e.id)&&r.definitions.push(e)}),r.definitions.length&&(E[t]=r)})}),E},function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(l.a)(e),a=f(e,n);if(!a||!a.packages)return[];var i=E(a),c=Object(p.e)(e,t,n),s=Object(m.a)(c.origin).country,o=Object(m.a)(c.destination).country;return[].concat(r()(a.packages.custom||[]),r()(i.map(function(e){return(a.packages.predefined||{})[e]})),[s,o])}),b=Object(u.a)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(l.a)(e),n=f(e,t);if(!n||!n.predefinedSchema||!n.packages)return null;var a={};return Object(s.forEach)(n.packages.custom,function(e){a[e.name]=e}),Object(s.forEach)(n.predefinedSchema,function(e){Object(s.forEach)(e,function(e){var t=e.definitions;Object(s.forEach)(t,function(e){a[e.id]=e})})}),a},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(l.a)(e),n=f(e,t);if(!n||!n.packages)return[];var a=E(n);return[].concat(r()(n.packages.custom||[]),r()(a.map(function(e){return(n.packages.predefined||{})[e]})))}),h=Object(u.a)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(l.a)(e),n=f(e,t);if(!n||!n.currentlyEditingPredefinedPackages)return null;var a={},r=n.predefinedSchema,i=n.currentlyEditingPredefinedPackages;return Object(s.forEach)(r,function(e,t){var n=i[t]||[];Object(s.forEach)(e,function(e,r){var i={groupId:r,serviceId:t,title:e.title,packages:[],total:e.definitions.length,selected:0};Object(s.forEach)(e.definitions,function(e){var a=Object(s.includes)(n,e.id);a&&i.selected++,i.packages.push(c()({},e,{selected:a,serviceId:t}))}),a["".concat(t,"-").concat(r)]=i})}),a},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(l.a)(e),n=f(e,t);if(!n||!n.currentlyEditingPredefinedPackages)return[];var a=E(n);return r()(a.map(function(e){return n.currentlyEditingPredefinedPackages[e]}))}),g=Object(u.a)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(l.a)(e),n=0,a=0,r=f(e,t);if(!r||!r.currentlyEditingPredefinedPackages)return{added:n,removed:a};var i=r.packages&&r.packages.predefined?r.packages.predefined:{},c=r.currentlyEditingPredefinedPackages;return Object.keys(c).forEach(function(e){var t=i[e],a=c[e];t?a.forEach(function(e){Object(s.includes)(t,e)||n++}):n+=a.length}),Object.keys(i).forEach(function(e){var t=i[e],n=c[e];n?t.forEach(function(e){Object(s.includes)(n,e)||a++}):a+=t.length}),{added:n,removed:a}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(l.a)(e),n=f(e,t);if(!n||!n.currentlyEditingPredefinedPackages)return[];var a=E(n);return[].concat(r()(a.map(function(e){return n.packages&&n.packages.predefined&&n.packages.predefined[e]})),r()(a.map(function(e){return n.currentlyEditingPredefinedPackages[e]})))}),v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(l.a)(e),n=f(e,t);return n&&n.isLoaded},C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(l.a)(e),n=f(e,t);return n&&n.isFetching},S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(l.a)(e),n=f(e,t);return n&&n.isFetchError}},545:function(e,t,n){"use strict";n.d(t,"e",function(){return a}),n.d(t,"c",function(){return C}),n.d(t,"d",function(){return S}),n.d(t,"b",function(){return N}),n.d(t,"a",function(){return y});var a={};n.r(a),n.d(a,"accountSettings",function(){return i}),n.d(a,"packages",function(){return c}),n.d(a,"orderLabels",function(){return s}),n.d(a,"getLabelRates",function(){return o}),n.d(a,"labelsStatus",function(){return u}),n.d(a,"labelRefund",function(){return l}),n.d(a,"labelsPrint",function(){return d}),n.d(a,"labelTestPrint",function(){return m}),n.d(a,"addressNormalization",function(){return p}),n.d(a,"serviceSettings",function(){return f}),n.d(a,"shippingCarrier",function(){return E}),n.d(a,"shippingCarriers",function(){return _}),n.d(a,"subscriptions",function(){return O}),n.d(a,"subscriptionActivate",function(){return b}),n.d(a,"shippingCarrierDelete",function(){return h}),n.d(a,"shippingCarrierTypes",function(){return g});var r=n(572),i="connect/account/settings",c="connect/packages",s=function(e){return"connect/label/".concat(e)},o=function(e){return"connect/label/".concat(e,"/rates")},u=function(e,t){return"connect/label/".concat(e,"/").concat(t.join())},l=function(e,t){return"connect/label/".concat(e,"/").concat(t,"/refund")},d=function(){return"connect/label/print"},m=function(){return"connect/label/preview"},p=function(){return"connect/normalize-address"},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"connect/services/".concat(e,"/").concat(t)},E=function(){return"connect/shipping/carrier"},_=function(){return"connect/shipping/carriers"},O=function(){return"connect/subscriptions"},b=function(e){return"connect/subscription/".concat(e,"/activate")},h=function(e){return"connect/shipping/carrier/".concat(e)},g=function(){return"connect/shipping/carrier-types"},v=function(e){if(e&&e.message)throw e.message;if(e&&e.data&&e.data.message)throw e.data.message;throw e},C=function(e,t,n){return Object(r.a)(e).post(t,n,"wc/v1").catch(v)},S=function(e,t,n){return Object(r.a)(e).put(t,n,"wc/v1").catch(v)},N=function(e,t){return Object(r.a)(e).get(t,"wc/v1").catch(v)},y=function(e,t){return Object(r.a)(e).del(t,"wc/v1").catch(v)}},546:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var a=n(1),r=n(625),i=n.n(r),c=(n(113),function(e){return e}),s=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return n.join()},o=function(e){return function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return e.map(function(e){return e.apply(void 0,[t].concat(a))})}};function u(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s,u=Object(a.memoize)(e,r);return Array.isArray(n)&&(n=o(n)),Object.assign(function(e){for(var a=arguments.length,r=new Array(a>1?a-1:0),c=1;c<a;c++)r[c-1]=arguments[c];var s=n.apply(void 0,[e].concat(r));return Array.isArray(s)||(s=[s]),t&&!i()(s,t)&&u.cache.clear(),t=s,u.apply(void 0,[e].concat(r))},{memoizedSelector:u})}},548:function(e,t,n){"use strict";var a=n(533),r=n.n(a),i=n(536),c=n.n(i),s=n(10),o=n.n(s),u=n(528),l=n.n(u);t.a=function(e){var t=e.className,n=e.children,a=c()(e,["className","children"]);return o.a.createElement("fieldset",r()({},a,{className:l()(t,"form-fieldset")}),n)}},549:function(e,t,n){"use strict";n.d(t,"f",function(){return c}),n.d(t,"g",function(){return s}),n.d(t,"h",function(){return o}),n.d(t,"i",function(){return u}),n.d(t,"d",function(){return l}),n.d(t,"c",function(){return d}),n.d(t,"b",function(){return m}),n.d(t,"a",function(){return p}),n.d(t,"n",function(){return f}),n.d(t,"o",function(){return E}),n.d(t,"e",function(){return _}),n.d(t,"q",function(){return O}),n.d(t,"p",function(){return b}),n.d(t,"k",function(){return h}),n.d(t,"l",function(){return g}),n.d(t,"m",function(){return v}),n.d(t,"j",function(){return C});var a=n(1),r=n(535),i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(r.a)(e);return Object(a.get)(e,["extensions","woocommerce","woocommerceServices",t,"labelSettings"],null)},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(r.a)(e),n=i(e,t);return n&&n.data},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(r.a)(e),n=i(e,t);return n&&n.meta},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(r.a)(e),n=i(e,t);return n&&n.storeOptions},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(r.a)(e),n=s(e,t);return n&&n.user},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(r.a)(e),n=s(e,t);return n&&n.isLoaded},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(r.a)(e),n=s(e,t);return n&&n.isFetching},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(r.a)(e),n=s(e,t);return n&&n.isFetchError},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(r.a)(e),n=c(e,t);return n&&n.enabled},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(r.a)(e),n=c(e,t);return n&&n.selected_payment_method_id},E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(r.a)(e),n=s(e,t);return n&&n.pristine},_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(r.a)(e),n=c(e,t);return n&&n.email_receipts},O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(r.a)(e),n=s(e,t);return n&&n.can_manage_payments},b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(r.a)(e),n=s(e,t);return n&&n.can_edit_settings},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(r.a)(e),n=c(e,t);return n&&n.paper_size},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(r.a)(e),n=s(e,t);return n&&n.payment_methods},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(r.a)(e),n=s(e,t);return n&&n.warnings&&n.warnings.payment_methods},C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(r.a)(e),n=s(e,t);return{masterUserName:n&&n.master_user_name,masterUserLogin:n&&n.master_user_login,masterUserEmail:n&&n.master_user_email,masterUserWpcomLogin:n&&n.master_user_wpcom_login}}},550:function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"d",function(){return l}),n.d(t,"a",function(){return d}),n.d(t,"b",function(){return m});var a=n(536),r=n.n(a),i=n(1),c={debounce:i.debounce,isPlainObject:i.isPlainObject,uniqueId:i.uniqueId},s=(n(46),c.uniqueId);function o(e){return{noticeId:e,type:"NOTICE_REMOVE"}}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.id,i=r()(n,["id"]);return{type:"NOTICE_CREATE",notice:Object.assign({showDismiss:!0},i,{noticeId:a||s(),status:e,text:t})}}var l=u.bind(null,"is-success"),d=u.bind(null,"is-error"),m=u.bind(null,"is-info");u.bind(null,"is-warning"),u.bind(null,"is-plain")},551:function(e,t,n){"use strict";var a=n(533),r=n.n(a),i=n(536),c=n.n(i),s=n(10),o=n.n(s),u=n(12),l=n.n(u),d=n(528),m=n.n(d),p=n(34),f=function(e){var t=e.children,n=e.required,a=e.optional,i=e.translate,s=e.className,u=(e.moment,e.numberFormat,e.dangerouslySetInnerHTML),l=c()(e,["children","required","optional","translate","className","moment","numberFormat","dangerouslySetInnerHTML"]),d=u?null:o.a.createElement(o.a.Fragment,null,t,n&&o.a.createElement("small",{className:"form-label__required"},i("Required")),a&&o.a.createElement("small",{className:"form-label__optional"},i("Optional")));return o.a.createElement("label",r()({},l,{dangerouslySetInnerHTML:u,className:m()(s,"form-label")}),d)};f.propTypes={required:l.a.bool,optional:l.a.bool,children:l.a.node},t.a=Object(p.localize)(f)},552:function(e,t,n){"use strict";var a=n(10),r=n.n(a),i=n(12),c=n.n(i),s=n(528),o=n.n(s),u=n(537),l=n.n(u),d=function(e){var t=e.text,n=e.type,a=void 0===n?"input-validation":n;return r.a.createElement("div",{className:o()("field-error","field-error__".concat(a))},r.a.createElement(l.a,{size:24,icon:"notice-outline"})," ",r.a.createElement("span",null,t))};d.propTypes={text:c.a.string.isRequired,type:c.a.string},t.a=d},554:function(e,t,n){"use strict";var a=n(533),r=n.n(a),i=n(536),c=n.n(i),s=n(10),o=n.n(s),u=n(528),l=n.n(u);t.a=function(e){var t=e.className,n=e.children,a=c()(e,["className","children"]);return o.a.createElement("legend",r()({},a,{className:l()(t,"form-legend")}),n)}},555:function(e,t,n){"use strict";var a=n(533),r=n.n(a),i=n(536),c=n.n(i),s=n(10),o=n.n(s),u=n(528),l=n.n(u);t.a=function(e){var t=e.className,n=e.children,a=c()(e,["className","children"]);return o.a.createElement("h3",r()({},a,{className:l()(t,"form-section-heading")}),n)}},556:function(e,t,n){"use strict";var a=n(107),r=n.n(a),i=n(108),c=n.n(i),s=n(530),o=n.n(s),u=n(529),l=n.n(u),d=n(534),m=n.n(d),p=n(531),f=n.n(p),E=n(35),_=n.n(E),O=n(12),b=n.n(O),h=n(10),g=n.n(h),v=n(528),C=n.n(v),S=n(1),N=n(34),y=n(537),j=n.n(y);n(568);function I(e){var t=e.children;return g.a.createElement("span",{className:"screen-reader-text"},t)}var R=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return n=o()(this,(e=l()(t)).call.apply(e,[this].concat(i))),_()(m()(n),"dismissTimeout",null),n}return f()(t,e),c()(t,[{key:"componentDidMount",value:function(){this.props.duration>0&&(this.dismissTimeout=setTimeout(this.props.onDismissClick,this.props.duration))}},{key:"componentWillUnmount",value:function(){this.dismissTimeout&&clearTimeout(this.dismissTimeout)}},{key:"componentDidUpdate",value:function(){clearTimeout(this.dismissTimeout),this.props.duration>0&&(this.dismissTimeout=setTimeout(this.props.onDismissClick,this.props.duration))}},{key:"getIcon",value:function(){var e;switch(this.props.status){case"is-info":e="info";break;case"is-success":e="checkmark";break;case"is-error":case"is-warning":e="notice";break;default:e="info"}return e}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,a=e.icon,r=e.isCompact,i=e.isLoading,c=e.onDismissClick,s=e.showDismiss,o=void 0===s?!r:s,u=e.status,l=e.text,d=e.translate,m=C()("notice",u,n,{"is-compact":r,"is-loading":i,"is-dismissable":o});return g.a.createElement("div",{className:m},g.a.createElement("span",{className:"notice__icon-wrapper"},g.a.createElement(j.a,{className:"notice__icon",icon:a||this.getIcon(),size:24})),g.a.createElement("span",{className:"notice__content"},g.a.createElement("span",{className:"notice__text"},l||t)),l?t:null,o&&g.a.createElement("span",{tabIndex:"0",className:"notice__dismiss",onClick:c},g.a.createElement(j.a,{icon:"cross",size:24}),g.a.createElement(I,null,d("Dismiss"))))}}]),t}(h.Component);_()(R,"defaultProps",{className:"",duration:0,icon:null,isCompact:!1,isLoading:!1,onDismissClick:S.noop,status:null,text:null}),_()(R,"propTypes",{className:b.a.string,duration:b.a.number,icon:b.a.string,isCompact:b.a.bool,isLoading:b.a.bool,onDismissClick:b.a.func,showDismiss:b.a.bool,status:b.a.oneOf(["is-error","is-info","is-success","is-warning","is-plain"]),text:b.a.oneOfType([b.a.arrayOf(b.a.oneOfType([b.a.string,b.a.node])),b.a.oneOfType([b.a.string,b.a.node])]),translate:b.a.func.isRequired});t.a=Object(N.localize)(R)},557:function(e,t,n){"use strict";n.d(t,"a",function(){return N});var a=n(533),r=n.n(a),i=n(107),c=n.n(i),s=n(108),o=n.n(s),u=n(530),l=n.n(u),d=n(529),m=n.n(d),p=n(531),f=n.n(p),E=n(35),_=n.n(E),O=n(10),b=n.n(O),h=n(12),g=n.n(h),v=n(528),C=n.n(v),S=n(1),N=function(e){function t(){return c()(this,t),l()(this,m()(t).apply(this,arguments))}return f()(t,e),o()(t,[{key:"render",value:function(){var e=C()(this.props.className,"form-setting-explanation",{"no-validate":this.props.noValidate,"is-indented":this.props.isIndented});return b.a.createElement("p",r()({},Object(S.omit)(this.props,"className","noValidate","isIndented"),{className:e}),this.props.children)}}]),t}(b.a.Component);_()(N,"displayName","FormSettingExplanation"),_()(N,"propTypes",{noValidate:g.a.bool,isIndented:g.a.bool,className:g.a.string}),_()(N,"defaultProps",{noValidate:!1,isIndented:!1})},559:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n(1),r=function e(t){return!!t&&(Object(a.isArray)(t)?Object(a.some)(t,e):!Object(a.isPlainObject)(t)||Object(a.some)(Object(a.values)(t),e))}},562:function(e,t,n){"use strict";n.r(t),n.d(t,"addPackage",function(){return c}),n.d(t,"removePackage",function(){return s}),n.d(t,"editPackage",function(){return o}),n.d(t,"dismissModal",function(){return u}),n.d(t,"savePackage",function(){return l}),n.d(t,"updatePackagesField",function(){return d}),n.d(t,"toggleOuterDimensions",function(){return m}),n.d(t,"toggleAll",function(){return p}),n.d(t,"togglePackage",function(){return f}),n.d(t,"savePredefinedPackages",function(){return E}),n.d(t,"removePredefinedPackage",function(){return _}),n.d(t,"setModalErrors",function(){return O}),n.d(t,"setIsSaving",function(){return b}),n.d(t,"setIsFetching",function(){return h}),n.d(t,"setIsFetchError",function(){return g}),n.d(t,"setAddMode",function(){return v}),n.d(t,"fetchSettings",function(){return C}),n.d(t,"submit",function(){return S});var a=n(545),r=n(541),i=n(544),c=function(e){return{type:r.g,siteId:e}},s=function(e,t){return{type:r.k,index:t,siteId:e}},o=function(e,t){return{type:r.i,package:t,siteId:e}},u=function(e){return{type:r.h,siteId:e}},l=function(e,t){return{type:r.m,packageData:t,siteId:e}},d=function(e,t){return{type:r.w,values:t,siteId:e}},m=function(e){return{type:r.u,siteId:e}},p=function(e,t,n,a){return{type:r.t,serviceId:t,groupId:n,checked:a,siteId:e}},f=function(e,t,n){return{type:r.v,serviceId:t,packageId:n,siteId:e}},E=function(e){return{type:r.n,siteId:e}},_=function(e,t,n){return{type:r.l,serviceId:t,packageId:n,siteId:e}},O=function(e,t){return{type:r.s,value:t,siteId:e}},b=function(e,t){return{type:r.r,isSaving:t,siteId:e}},h=function(e,t){return{type:r.p,isFetching:t,siteId:e}},g=function(e,t){return{type:r.q,isFetchError:t,siteId:e}},v=function(e,t){return{type:r.o,siteId:e,mode:t}},C=function(e){return function(t,n){var c=Object(i.e)(n(),e);c&&(c.packages||c.isFetching)||(t(h(e,!0)),a.b(e,a.e.packages).then(function(n){var a=n.formData,i=n.formSchema,c=n.storeOptions;t({type:r.j,packages:a,dimensionUnit:c.dimension_unit,weightUnit:c.weight_unit,packageSchema:i.custom.items,predefinedSchema:i.predefined,siteId:e})}).catch(function(n){console.error(n),t(g(e,!0))}).then(function(){return t(h(e,!1))}))}},S=function(e,t,n){return function(r,c){var s=Object(i.e)(c(),e);r(b(e,!0)),a.d(e,a.e.packages,s.packages).then(t).catch(n).then(function(){return r(b(e,!1))})}}},563:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n(538);function r(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Date.now();return{type:a.j,siteId:e,originalAction:t,data:n,time:r}}},564:function(e,t,n){"use strict";var a=n(47),r=n.n(a),i=n(1),c=n(114),s=r()("calypso:notices");s("initializing notices");var o,u={containerNames:{}};o=u,Object(i.assign)(o,c.EventEmitter.prototype),o.emitChange=function(){this.emit("change")},o.off=o.removeListener;var l=[],d={new:function(e,t,n){var a=t.overlay?"overlay-notices":"notices";u.containerNames[a]=a,s("creating notice",e,t,n),u[a]=[];var r={type:t.type||"message",status:n,text:e,duration:t.duration,container:a,button:t.button,href:t.href,onClick:function(e){if("function"===typeof t.onClick){var n=d.removeNotice.bind(d,r);return t.onClick(e,n)}},onRemoveCallback:t.onRemoveCallback||function(){},arrow:t.arrow,isCompact:t.isCompact,showDismiss:t.showDismiss,persistent:t.persistent};return t.displayOnNextPage?l.push(r):u[a].push(r),u.emit("change"),r},success:function(e,t){return t=t||{},this.new(e,t,"is-success")},error:function(e,t){return t=t||{},this.new(e,t,"is-error")},info:function(e,t){return t=t||{},this.new(e,t,"is-info")},warning:function(e,t){return t=t||{},this.new(e,t,"is-warning")},list:u,removeNotice:function(e){if(e.container){var t=u[e.container],n=t.indexOf(e);-1!==n&&(t.splice(n,1),u.emit("change"))}},clearNoticesOnNavigation:function(e,t){s("clearNoticesOnNavigation");var n=!1,a=function(e){return e.persistent};for(var r in u.containerNames){var i=u[r].length;u[r]=u[r].filter(a),i!==u[r].length&&(n=!0)}l.length&&(l.forEach(function(e){u[e.container]=[],u[e.container].push(e)}),l=[]),n&&u.emit("change"),t()},clearNotices:function(e){u[e]=[],u.emit("change")},getStatusHelper:function(e){return e.error?"is-error":e.warning?"is-warning":e.info?"is-info":e.success?"is-success":void 0}};t.a=d},565:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return i});var a=function(){return{}},r=function(){return""},i=function(){return!0}},568:function(e,t,n){},569:function(e,t,n){"use strict";var a=n(533),r=n.n(a),i=n(536),c=n.n(i),s=n(10),o=n.n(s),u=n(528),l=n.n(u);n(601);t.a=function(e){var t=e.inputRef,n=e.className,a=e.isError,i=c()(e,["inputRef","className","isError"]);return o.a.createElement("select",r()({},i,{ref:t,className:l()(n,"form-select",{"is-error":a})}))}},570:function(e,t,n){"use strict";var a=n(533),r=n.n(a),i=n(107),c=n.n(i),s=n(108),o=n.n(s),u=n(530),l=n.n(u),d=n(529),m=n.n(d),p=n(534),f=n.n(p),E=n(531),_=n.n(E),O=n(35),b=n.n(O),h=n(12),g=n.n(h),v=n(10),C=n.n(v),S=n(1),N=n(615),y=n(117),j=n.n(y),I=n(528),R=n.n(I),P=function(e){function t(){var e,n;c()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=l()(this,(e=m()(t)).call.apply(e,[this].concat(r))),b()(f()(n),"_onButtonClick",function(e){e.onClick?e.onClick(n._close.bind(f()(n),e.action)):n._close(e.action)}),b()(f()(n),"_close",function(e){n.props.onDialogClose&&n.props.onDialogClose(e)}),n}return _()(t,e),o()(t,[{key:"render",value:function(){var e=this.props,t=e.additionalClassNames,n=e.isBackdropVisible,a=e.baseClassName,r=e.isFullScreen,i=e.shouldCloseOnEsc,c=a+"__content",s=R()(a,"card",t),o=R()(a+"__backdrop",{"is-full-screen":!!r,"is-hidden":!n});return C.a.createElement(j.a,{isOpen:this.props.isVisible,onRequestClose:this._close,closeTimeoutMS:this.props.leaveTimeout,contentLabel:this.props.label,appElement:document.getElementById("wpcom"),overlayClassName:o,className:s,htmlOpenClassName:"ReactModal__Html--open",role:"dialog",shouldCloseOnEsc:i},C.a.createElement("div",{className:R()(this.props.className,c),tabIndex:"-1"},this.props.children),this._renderButtonsBar())}},{key:"_renderButtonsBar",value:function(){var e=this.props.baseClassName+"__action-buttons";return this.props.buttons?C.a.createElement("div",{className:e},this.props.buttons.map(this._renderButton,this)):null}},{key:"_renderButton",value:function(e,t){if(C.a.isValidElement(e))return C.a.cloneElement(e,{key:"dialog-button-"+t});var n=this._getButtonClasses(e),a=this._onButtonClick.bind(this,e);return C.a.createElement("button",{key:e.action,className:n,"data-e2e-button":e.action,"data-tip-target":"dialog-base-action-".concat(e.action),onClick:a,disabled:!!e.disabled},C.a.createElement("span",{className:this.props.baseClassName+"__button-label"},e.label))}},{key:"_getButtonClasses",value:function(e){var t=e.className||"button";return(e.isPrimary||1===this.props.buttons.length)&&(t+=" is-primary"),e.additionalClassNames&&(t+=" "+e.additionalClassNames),t}}]),t}(v.Component);b()(P,"propTypes",{additionalClassNames:g.a.oneOfType([g.a.object,g.a.string]),autoFocus:g.a.bool,baseClassName:g.a.string,buttons:g.a.array,className:g.a.string,isBackdropVisible:g.a.bool,isFullScreen:g.a.bool,isVisible:g.a.bool,label:g.a.string,leaveTimeout:g.a.number,onDialogClose:g.a.func,shouldCloseOnEsc:g.a.bool}),b()(P,"defaultProps",{baseClassName:"dialog",isBackdropVisible:!0,isFullScreen:!0,autoFocus:!0,label:""});var k=P,M=function(e){function t(){var e,n;c()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=l()(this,(e=m()(t)).call.apply(e,[this].concat(r))),b()(f()(n),"checkOnClosed",function(e){null===e&&Object(S.defer)(n.props.onClosed)}),b()(f()(n),"onDialogClose",function(e){n.props.onClose&&n.props.onClose(e)}),n}return _()(t,e),o()(t,[{key:"render",value:function(){return C.a.createElement(N.a,null,C.a.createElement(k,r()({},this.props,{ref:this.checkOnClosed,key:"dialog",onDialogClose:this.onDialogClose})))}}]),t}(v.Component);b()(M,"propTypes",{isVisible:g.a.bool,baseClassName:g.a.string,leaveTimeout:g.a.number,onClose:g.a.func,onClosed:g.a.func,shouldCloseOnEsc:g.a.bool}),b()(M,"defaultProps",{isVisible:!1,leaveTimeout:200,onClosed:S.noop});t.a=M},572:function(e,t,n){"use strict";var a=n(76);t.a=a.a},573:function(e,t,n){"use strict";var a=n(1);t.a=function(e){return Object(a.isPlainObject)(e)&&(e.isNormalized&&e.selectNormalized&&e.normalized?e.normalized:e.values)||{}}},574:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"c",function(){return u}),n.d(t,"a",function(){return l}),n.d(t,"e",function(){return m}),n.d(t,"f",function(){return f}),n.d(t,"g",function(){return E}),n.d(t,"i",function(){return _}),n.d(t,"h",function(){return O}),n.d(t,"j",function(){return b}),n.d(t,"d",function(){return h});var a=n(1),r=n(546),i=n(535),c=n(542),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(i.a)(e);return Object(a.get)(e,["extensions","woocommerce","sites",t,"data","locations"])},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(i.a)(e);return Object(a.isArray)(s(e,t))},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(i.a)(e);return c.b===s(e,t)},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(i.a)(e);return c.a===s(e,t)},d=function(e){return function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];var i=a[e],c=o(t,i);return[c,c&&s(t,i)]}},m=Object(r.a)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(i.a)(e);if(!o(e,t))return[];var n=s(e,t).map(function(e){return Object(a.omit)(e,"countries")});return Object(a.sortBy)(n,"name")},d(0)),p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(i.a)(e);if(!o(e,t))return[];var n=Object(a.flatMap)(s(e,t),"countries");return Object(a.sortBy)(n,"name")},f=Object(r.a)(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(i.a)(e);if(!o(e,n))return[];var r=Object(a.find)(s(e,n),{code:t});if(!r)return[];var c=r.countries.map(function(e){return Object(a.omit)(e,"states")});return Object(a.sortBy)(c,"name")},d(1)),E=Object(r.a)(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(i.a)(e);if(!o(e,n))return t;var r=Object(a.find)(Object(a.flatMap)(s(e,n),"countries"),{code:t});return r?r.name:t},d(1)),_=Object(r.a)(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(i.a)(e);if(!o(e,n))return[];var r=Object(a.find)(Object(a.flatMap)(s(e,n),"countries"),{code:t});return r?Object(a.sortBy)(r.states,"name"):[]},d(1)),O=Object(r.a)(function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Object(i.a)(e);if(!o(e,r))return n;var c=Object(a.find)(Object(a.flatMap)(s(e,r),"countries"),{code:t});if(!c)return n;var u=Object(a.find)(c.states,{code:n});return u?u.name:n},d(2)),b=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(i.a)(e);return!Object(a.isEmpty)(_(e,t,n))},h=Object(r.a)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(i.a)(e),n=p(e,t),a={};return n.forEach(function(e){var t=e.code,n=e.name;return a[t]=n}),a},d(0))},575:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r});var a=function(){return!0},r=function(){return!0}},576:function(e,t,n){"use strict";n.d(t,"d",function(){return c}),n.d(t,"a",function(){return o}),n.d(t,"e",function(){return u}),n.d(t,"c",function(){return l}),n.d(t,"b",function(){return d});var a=n(545),r=n(541),i=n(549),c=function(e,t,n){return{type:r.e,siteId:e,key:t,value:n}},s=function(e,t,n){return{type:r.f,siteId:e,key:t,value:n}},o=function(e){return function(t){t(s(e,"isFetching",!0)),a.b(e,a.e.accountSettings).then(function(n){var a=n.storeOptions,i=n.formMeta,c=n.formData,s=n.userMeta;t(function(e,t,n,a,i){return{type:r.b,siteId:e,storeOptions:t,formData:n,formMeta:a,userMeta:i}}(e,a,c,i,s))}).catch(function(n){t(s(e,"isFetchError",!0)),console.error(n)}).then(function(){return t(s(e,"isFetching",!1))})}},u=function(e,t,n){return function(r,c){r(s(e,"isSaving",!0)),r(s(e,"pristine",!0)),a.c(e,a.e.accountSettings,Object(i.f)(c())).then(t).catch(function(t){return r(s(e,"pristine",!1)),n(t)}).then(function(){r(s(e,"isSaving",!1))})}},l=function(e){return{type:r.d,siteId:e}},d=function(e){return{type:r.c,siteId:e}}},577:function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return o}),n.d(t,"c",function(){return u});var a=n(1),r=n(535),i=n(542),c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(r.a)(e);return Object(a.get)(e,["extensions","woocommerce","woocommerceServices",t,"shippingMethodSchemas"],{})},s=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(r.a)(e);return Object(a.isObject)(c(e,n)[t])},o=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(r.a)(e);return s(e,t,n)?c(e,n)[t]:null},u=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(r.a)(e);return i.b===c(e,n)[t]}},578:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r}),n.d(t,"d",function(){return i}),n.d(t,"c",function(){return c});var a=["US","PR","VI","GU","AS","UM","MH","FM","MP"],r=["US","PR","VI"],i=["AA","AE","AP"],c=["IR","SY","KP","CU","SD"]},579:function(e,t,n){"use strict";n.d(t,"c",function(){return u}),n.d(t,"a",function(){return l}),n.d(t,"b",function(){return d});var a=n(1),r=n(535),i=n(586),c=n(542),s=n(575),o=n(587),u=function(e,t){var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(r.a)(e);return Object(a.get)(e,["extensions","woocommerce","sites",t,"shippingZoneMethods"])}(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(r.a)(e));return Object(a.isObject)(n)?n[t]:null},l=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(r.a)(e),c=Object(i.b)(e,n);if(!Object(a.isArray)(c))return!1;var l=Object(a.find)(c,{id:t});if(!l||!Object(a.isArray)(l.methodIds))return!1;if(!Object(s.a)(e,n))return!0;var d=l.methodIds.map(function(t){var r=u(e,t,n);return r&&Object(a.startsWith)(r.methodType,"wc_services")?r:null}).filter(Boolean);return Object(a.every)(d,function(t){var a=t.id;return Object(o.a)(e,a,n)})},d=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(r.a)(e),l=Object(i.b)(e,n);if(!Object(a.isArray)(l))return!1;var d=Object(a.find)(l,{id:t});if(!d)return!1;if(c.b===d.methodIds)return!0;if(!Object(s.a)(e,n)||!Object(a.isArray)(d.methodIds))return!1;var m=d.methodIds.map(function(t){var r=u(e,t,n);return r&&Object(a.startsWith)(r.methodType,"wc_services")?r:null}).filter(Boolean);return Object(a.some)(m,function(t){var a=t.id;return Object(o.b)(e,a,n)})}},580:function(e,t,n){"use strict";var a=n(10),r=n.n(a),i=n(12),c=n.n(i),s=n(528),o=n.n(s),u=n(697),l=n(548),d=n(552),m=n(557),p=function(e){var t=e.id,n=e.title,i=e.description,c=e.value,s=e.placeholder,p=e.updateValue,f=e.error,E=e.className,_=e.defaultValue,O=Object(a.useCallback)(function(e){return p(e,t)},[p]),b=o()("form-text-input",{"is-error":Boolean(f)});return r.a.createElement(l.a,{className:E},r.a.createElement(u.a,{label:n,name:t,placeholder:s,value:c,onChange:O,className:b,defaultValue:_}),f&&"string"===typeof f&&r.a.createElement(d.a,{text:f}),!f&&i&&r.a.createElement(m.a,null,i))};p.propTypes={id:c.a.string.isRequired,title:c.a.node,description:c.a.string,value:c.a.string,defaultValue:c.a.string,updateValue:c.a.func,error:c.a.oneOfType([c.a.string,c.a.bool]),className:c.a.string},t.a=p},582:function(e,t,n){"use strict";n.d(t,"a",function(){return y});var a=n(533),r=n.n(a),i=n(536),c=n.n(i),s=n(107),o=n.n(s),u=n(108),l=n.n(u),d=n(530),m=n.n(d),p=n(529),f=n.n(p),E=n(531),_=n.n(E),O=n(35),b=n.n(O),h=n(10),g=n.n(h),v=n(12),C=n.n(v),S=n(528),N=n.n(S),y=function(e){function t(){return o()(this,t),m()(this,f()(t).apply(this,arguments))}return _()(t,e),l()(t,[{key:"render",value:function(){var e=N()("button",this.props.className,{"is-compact":this.props.compact,"is-primary":this.props.primary,"is-scary":this.props.scary,"is-busy":this.props.busy,"is-borderless":this.props.borderless});if(this.props.href){var t=this.props,n=(t.compact,t.primary,t.scary,t.busy,t.borderless,t.type,c()(t,["compact","primary","scary","busy","borderless","type"])),a=n.target?(n.rel||"").replace(/noopener|noreferrer/g,"")+" noopener noreferrer":n.rel;return g.a.createElement("a",r()({},n,{rel:a,className:e}))}var i=this.props,s=(i.compact,i.primary,i.scary,i.busy,i.borderless,i.target,i.rel,c()(i,["compact","primary","scary","busy","borderless","target","rel"]));return g.a.createElement("button",r()({},s,{className:e}))}}]),t}(h.PureComponent);b()(y,"propTypes",{compact:C.a.bool,primary:C.a.bool,scary:C.a.bool,busy:C.a.bool,type:C.a.string,href:C.a.string,borderless:C.a.bool,target:C.a.string,rel:C.a.string}),b()(y,"defaultProps",{type:"button"})},583:function(e,t,n){"use strict";var a=n(533),r=n.n(a),i=n(536),c=n.n(i),s=n(107),o=n.n(s),u=n(108),l=n.n(u),d=n(530),m=n.n(d),p=n(529),f=n.n(p),E=n(534),_=n.n(E),O=n(531),b=n.n(O),h=n(35),g=n.n(h),v=n(528),C=n.n(v),S=n(34),N=n(1),y=n(10),j=n.n(y),I=n(582),R=function(e){function t(){var e,n;o()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=m()(this,(e=f()(t)).call.apply(e,[this].concat(r))),g()(_()(n),"getDefaultButtonAction",function(){return n.props.isSubmitting?n.props.translate("Saving\u2026"):n.props.translate("Save Settings")}),n}return b()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,a=e.isPrimary,i=c()(e,["children","className","isPrimary"]),s=C()(n,"form-button");return j.a.createElement(I.a,r()({},Object(N.omit)(i,["isSubmitting","moment","numberFormat","translate"]),{primary:a,className:s}),y.Children.count(t)?t:this.getDefaultButtonAction())}}]),t}(j.a.Component);g()(R,"defaultProps",{isSubmitting:!1,isPrimary:!0,type:"submit"}),t.a=Object(S.localize)(R)},586:function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return o});var a=n(1),r=n(535),i=(n(542),n(579)),c=n(612),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(r.a)(e);return Object(a.get)(e,["extensions","woocommerce","sites",t,"shippingZones"])},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(r.a)(e),n=s(e,t);return Object(a.isArray)(n)&&Object(a.every)(n,function(n){return Object(i.a)(e,n.id,t)})&&Object(a.every)(n,function(n){return Object(c.a)(e,n.id,t)})}},587:function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return o});var a=n(1),r=n(535),i=n(542),c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(r.a)(e);return Object(a.get)(e,["extensions","woocommerce","woocommerceServices",t,"shippingZoneMethodSettings"],{})},s=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(r.a)(e);return!0===c(e,n)[t]},o=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(r.a)(e);return i.b===c(e,n)[t]}},588:function(e,t,n){"use strict";n.d(t,"a",function(){return v});var a=n(107),r=n.n(a),i=n(108),c=n.n(i),s=n(530),o=n.n(s),u=n(529),l=n.n(u),d=n(531),m=n.n(d),p=n(35),f=n.n(p),E=n(12),_=n.n(E),O=n(10),b=n.n(O),h=n(537),g=n.n(h),v=function(e){function t(){return r()(this,t),o()(this,l()(t).apply(this,arguments))}return m()(t,e),c()(t,[{key:"render",value:function(){var e={className:"notice__action",href:this.props.href,onClick:this.props.onClick};return this.props.external&&(e.target="_blank",e.rel="noopener noreferrer"),b.a.createElement("a",e,b.a.createElement("span",null,this.props.children),this.props.icon&&b.a.createElement(g.a,{icon:this.props.icon,size:24}),this.props.external&&b.a.createElement(g.a,{icon:"external",size:24}))}}]),t}(b.a.Component);f()(v,"displayName","NoticeAction"),f()(v,"propTypes",{href:_.a.string,onClick:_.a.func,external:_.a.bool,icon:_.a.string}),f()(v,"defaultProps",{external:!1})},592:function(e,t,n){"use strict";var a,r=n(35),i=n.n(r),c=n(36),s=n.n(c),o=n(1),u=n(46),l=Object(u.b)({},(a={},i()(a,"NOTICE_CREATE",function(e,t){var n=t.notice;return s()({},e,i()({},n.noticeId,n))}),i()(a,"NOTICE_REMOVE",function(e,t){var n=t.noticeId;return e.hasOwnProperty(n)?Object(o.omit)(e,n):e}),i()(a,"ROUTE_SET",function(e){return Object(o.reduce)(e,function(e,t,n){if(!t.isPersistent&&!t.displayOnNextPage)return e;var a=t;return a.displayOnNextPage&&(a=s()({},a,{displayOnNextPage:!1})),e[n]=a,e},{})}),a)),d=Object(u.b)({},i()({},"NOTICE_CREATE",function(e,t){var n=t.notice;return s()({},e,i()({},n.noticeId,Date.now()))}));t.a=Object(u.a)({items:l,lastTimeShown:d})},593:function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"a",function(){return c}),n.d(t,"e",function(){return s}),n.d(t,"c",function(){return o});var a=n(538);function r(e){return{type:a.d,actionList:e}}function i(){return{type:a.b}}function c(e){return{type:a.a,actionList:e}}function s(e){return{type:a.e,actionList:e}}function o(e,t){return{type:a.c,actionList:e,error:t}}},594:function(e,t,n){},600:function(e,t,n){"use strict";var a=n(533),r=n.n(a),i=n(10),c=n.n(i),s=n(12),o=n.n(s),u=n(528),l=n.n(u),d=n(537),m=n.n(d),p=n(1),f=function(e){var t=e.className,n=e.disabled,a=e.checked,i=e.partialChecked,s=Object(p.omit)(e,["className","partialChecked"]);return c.a.createElement("span",{className:l()(t,"form-checkbox",{"is-disabled":n})},c.a.createElement("input",r()({},s,{type:"checkbox"})),a&&c.a.createElement(m.a,{icon:"checkmark",size:14}),!a&&i&&c.a.createElement(m.a,{icon:"minus-small",size:16}))};f.propTypes={checked:o.a.bool.isRequired,partialChecked:o.a.bool,onChange:o.a.func.isRequired,className:o.a.string},t.a=f},601:function(e,t,n){},602:function(e,t,n){"use strict";var a=n(107),r=n.n(a),i=n(108),c=n.n(i),s=n(530),o=n.n(s),u=n(529),l=n.n(u),d=n(534),m=n.n(d),p=n(531),f=n.n(p),E=n(35),_=n.n(E),O=n(12),b=n.n(O),h=n(10),g=n.n(h),v=n(528),C=n.n(v),S=n(34),N=n(1),y=n(619),j=n(834),I=n(537),R=n.n(I),P=(n(635),function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return n=o()(this,(e=l()(t)).call.apply(e,[this].concat(i))),_()(m()(n),"state",{expanded:n.props.expanded}),_()(m()(n),"onClick",function(){n.props.children&&n.setState({expanded:!n.state.expanded}),n.props.onClick&&n.props.onClick(),n.state.expanded?n.props.onClose(n.props.cardKey):n.props.onOpen(n.props.cardKey)}),n}return f()(t,e),c()(t,[{key:"componentWillReceiveProps",value:function(e){e.expanded!==this.props.expanded&&this.setState({expanded:e.expanded})}},{key:"getClickAction",value:function(){if(!this.props.disabled)return this.onClick}},{key:"getActionButton",value:function(){return this.state.expanded&&this.props.actionButtonExpanded||this.props.actionButton}},{key:"renderActionButton",value:function(){var e=this.props.clickableHeader?null:this.getClickAction();if(this.props.actionButton)return g.a.createElement("div",{className:"foldable-card__action",role:"presentation",onClick:e},this.getActionButton());if(this.props.children){var t=this.props.screenReaderText||this.props.translate("More");return g.a.createElement("button",{disabled:this.props.disabled,type:"button",className:"foldable-card__action foldable-card__expand",onClick:e},g.a.createElement(y.a,null,t),g.a.createElement(R.a,{icon:this.props.icon,size:24}))}}},{key:"renderContent",value:function(){return g.a.createElement("div",{className:"foldable-card__content"},this.props.children)}},{key:"renderHeader",value:function(){var e=this.props.summary?g.a.createElement("span",{className:"foldable-card__summary"},this.props.summary," "):null,t=this.props.expandedSummary?g.a.createElement("span",{className:"foldable-card__summary-expanded"},this.props.expandedSummary," "):null,n=this.props.clickableHeader?this.getClickAction():null,a=C()("foldable-card__header",{"is-clickable":!!this.props.clickableHeader,"has-border":!!this.props.summary});return g.a.createElement("div",{className:a,role:"presentation",onClick:n},g.a.createElement("span",{className:"foldable-card__main"},this.props.header," "),g.a.createElement("span",{className:"foldable-card__secondary"},e,t,this.renderActionButton()))}},{key:"render",value:function(){var e=C()("foldable-card","card",this.props.className,{"is-disabled":!!this.props.disabled,"is-expanded":!!this.state.expanded,"has-expanded-summary":!!this.props.expandedSummary,"is-compact":!!this.props.compact});return g.a.createElement(j.a,{className:e},this.renderHeader(),this.state.expanded&&this.renderContent())}}]),t}(h.Component));_()(P,"displayName","FoldableCard"),_()(P,"propTypes",{actionButton:b.a.element,actionButtonExpanded:b.a.element,cardKey:b.a.string,compact:b.a.bool,disabled:b.a.bool,expandedSummary:b.a.oneOfType([b.a.string,b.a.element]),expanded:b.a.bool,icon:b.a.string,onClick:b.a.func,onClose:b.a.func,onOpen:b.a.func,screenReaderText:b.a.oneOfType([b.a.string,b.a.bool]),summary:b.a.oneOfType([b.a.string,b.a.element])}),_()(P,"defaultProps",{onOpen:N.noop,onClose:N.noop,cardKey:"",icon:"chevron-down",expanded:!1,screenReaderText:!1}),t.a=Object(S.localize)(P)},603:function(e,t,n){"use strict";var a=n(533),r=n.n(a),i=n(536),c=n.n(i),s=n(107),o=n.n(s),u=n(108),l=n.n(u),d=n(530),m=n.n(d),p=n(529),f=n.n(p),E=n(531),_=n.n(E),O=n(10),b=n.n(O),h=n(12),g=n.n(h),v=n(591),C=n(528),S=n.n(C),N=function(e){function t(e){var n;return o()(this,t),(n=m()(this,f()(t).call(this,e))).state={isFocused:!1},n}return _()(t,e),l()(t,[{key:"handleFocusOutside",value:function(){this.setState({isFocused:!1})}},{key:"handleOnClick",value:function(e,t){this.setState({isFocused:!0}),"function"===typeof t&&t(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.label,a=t.value,i=t.help,s=t.className,o=t.instanceId,u=t.onChange,l=t.onClick,d=t.prefix,m=t.suffix,p=t.type,f=t.disabled,E=c()(t,["label","value","help","className","instanceId","onChange","onClick","prefix","suffix","type","disabled"]),_=this.state.isFocused,O="inspector-text-control-with-affixes-".concat(o),h=[];i&&h.push("".concat(O,"__help")),d&&h.push("".concat(O,"__prefix")),m&&h.push("".concat(O,"__suffix"));var g=S()(s,{"with-value":""!==a,empty:""===a,active:_&&!f}),C=S()("text-control-with-affixes",{"text-control-with-prefix":d,"text-control-with-suffix":m,disabled:f});return b.a.createElement(v.a,{label:n,id:O,help:i,className:g,onClick:function(t){return e.handleOnClick(t,l)}},b.a.createElement("div",{className:C},d&&b.a.createElement("span",{id:"".concat(O,"__prefix"),className:"text-control-with-affixes__prefix"},d),b.a.createElement("input",r()({className:"components-text-control__input",type:p,id:O,value:a,onChange:function(e){return u(e.target.value)},"aria-describedby":h.join(" "),disabled:f,onFocus:function(){return e.setState({isFocused:!0})}},E)),m&&b.a.createElement("span",{id:"".concat(O,"__suffix"),className:"text-control-with-affixes__suffix"},m)))}}]),t}(O.Component);N.defaultProps={type:"text"},N.propTypes={label:g.a.string,help:g.a.string,type:g.a.string,value:g.a.oneOfType([g.a.string,g.a.number]).isRequired,className:g.a.string,onChange:g.a.func.isRequired,prefix:g.a.node,suffix:g.a.node,disabled:g.a.bool},t.a=N},604:function(e,t,n){"use strict";var a=n(10),r=n.n(a),i=n(12),c=n.n(i),s=n(548),o=n(569),u=n(554),l=n(552),d=n(557),m=function(e){var t=e.id,n=e.valuesMap,i=e.title,c=e.description,m=e.value,p=e.updateValue,f=e.error,E=e.disabled,_=e.className,O=Object(a.useCallback)(function(e){return p(e.target.value,e)},[p]);return r.a.createElement(s.a,{className:_},r.a.createElement(u.a,null,i),r.a.createElement(o.a,{id:t,name:t,value:m,onChange:O,disabled:Boolean(E),isError:Boolean(f)},Object.keys(n).map(function(e){return r.a.createElement("option",{key:e,value:e},n[e])})),f&&"string"===typeof f&&r.a.createElement(l.a,{text:f}),!f&&c&&r.a.createElement(d.a,null,c))};m.propTypes={id:c.a.string.isRequired,valuesMap:c.a.object.isRequired,title:c.a.node,description:c.a.string,value:c.a.string.isRequired,updateValue:c.a.func.isRequired,error:c.a.oneOfType([c.a.string,c.a.bool]),disabled:c.a.bool,className:c.a.string},t.a=m},605:function(e,t,n){"use strict";var a=n(533),r=n.n(a),i=n(536),c=n.n(i),s=n(165),o=n.n(s),u=n(12),l=n.n(u),d=n(10),m=n.n(d),p=n(556),f=n(588),E=n(528),_=n.n(E);n(594);function O(e){var t=e.id,n=e.className,a=e.children;return m.a.createElement("div",{id:t,className:_()("global-notices",n)},a)}var b=n(564),h=n(47),g=n.n(h)()("calypso:data-observe"),v=n(109),C=n(1),S=n(546),N=Object(S.a)(function(e){return Object(C.values)(e.notices.items)},function(e){return e.notices.items}),y=(Object(S.a)(function(e,t){return e.notices.lastTimeShown[t]||0},function(e){return e.notices.lastTimeShown}),n(550)),j=o()({displayName:"GlobalNotices",mixins:[function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{componentDidMount:function(){t.forEach(function(e){this.props[e]?this.props[e].on("change",this.update):g(e+" is not set.")},this)},componentWillUnmount:function(){t.forEach(function(e){this.props[e]&&this.props[e].off("change",this.update)},this)},componentWillReceiveProps:function(e){t.forEach(function(t){this.props[t]!==e[t]&&(this.props[t]&&this.props[t].off("change",this.update),e[t]&&e[t].on("change",this.update))},this)},update:function(){g("Re-rendering "+this.constructor.displayName+" component."),this.forceUpdate()}}}("notices")],propTypes:{id:l.a.string,notices:l.a.oneOfType([l.a.object,l.a.array]),removeNotice:l.a.func.isRequired,storeNotices:l.a.array.isRequired},getDefaultProps:function(){return{id:"overlay-notices",notices:Object.freeze([])}},removeNoticeStoreNotice:function(e){return function(){e&&b.a.removeNotice(e)}},removeReduxNotice:function(e,t){var n=this;return function(a){t&&t(a),n.props.removeNotice(e)}},render:function(){var e=(this.props.notices[this.props.id]||[]).map(function(e,t){return m.a.createElement(p.a,{key:"notice-old-"+t,status:e.status,duration:e.duration||null,text:e.text,isCompact:e.isCompact,onDismissClick:this.removeNoticeStoreNotice(e),showDismiss:e.showDismiss},e.button&&m.a.createElement(f.a,{href:e.href,onClick:e.onClick},e.button))},this);return(e=e.concat(this.props.storeNotices.map(function(e){var t=e.button,n=e.href,a=e.noticeId,i=e.onClick,s=e.onDismissClick,o=c()(e,["button","href","noticeId","onClick","onDismissClick"]);return m.a.createElement(p.a,r()({},o,{key:"notice-".concat(a),onDismissClick:this.removeReduxNotice(a,s)}),t&&m.a.createElement(f.a,{href:n,onClick:i},t))},this))).length?m.a.createElement(O,{id:this.props.id},e):null}});t.a=Object(v.b)(function(e){return{storeNotices:N(e)}},{removeNotice:y.c})(j)},611:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n(1),r=function(e,t){return Object(a.isArray)(e)?e.concat(t):void 0},i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length>1?a.mergeWith.apply(void 0,[Object.create(null)].concat(t,[r])):t[0]}},612:function(e,t,n){"use strict";n.d(t,"c",function(){return c}),n.d(t,"a",function(){return s}),n.d(t,"b",function(){return o});var a=n(1),r=n(535),i=n(542),c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(r.a)(e);return Object(a.get)(e,["extensions","woocommerce","sites",t,"shippingZoneLocations"])},s=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(r.a)(e),i=c(e,n);return i&&Object(a.isObject)(i[t])},o=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object(r.a)(e);return c(e,n)&&i.b===c(e,n)[t]}},613:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var a=n(545),r=n(563),i=n(541),c=n(587),s=function(e,t,n){return function(s,o){if(!Object(c.a)(o(),n,e)&&!Object(c.b)(o(),n,e)){var u={type:i.Pb,instanceId:n,siteId:e};return s(u),a.b(e,a.e.serviceSettings(t,n)).then(function(t){return s(function(e,t,n){return{type:i.Qb,siteId:e,instanceId:t,data:n}}(e,n,t))}).catch(function(t){return s(Object(r.a)(e,u,t))})}}}},614:function(e,t,n){"use strict";t.a=function(e,t){return function e(t,n,a){if(void 0===n||null===n||!t)return n;switch((t=function(e,t){if(e.$ref){var n=e.$ref.match(/^#\/definitions\/(.+)/);n&&t[n[1]]&&(e=t[n[1]])}return e}(t,a)).type){case"number":if(""===n)return;return isNaN(n)?n:parseFloat(n);case"boolean":return-1!==["true","True","TRUE","1",1,!0].indexOf(n)||-1===["false","False","FALSE","0",0,!1].indexOf(n)&&void 0;case"string":return n?n.toString():"";case"object":var r={};return Object.keys(n).forEach(function(i){var c=(t.properties||{})[i];r[i]=e(c,n[i],a)}),r;case"array":return n.map(function(n){return e(t.items,n,a)});default:return n}}({type:"object",properties:e.properties},t,e.definitions)}},615:function(e,t,n){"use strict";n.d(t,"a",function(){return y});var a=n(107),r=n.n(a),i=n(108),c=n.n(i),s=n(530),o=n.n(s),u=n(529),l=n.n(u),d=n(534),m=n.n(d),p=n(531),f=n.n(p),E=n(35),_=n.n(E),O=n(78),b=n.n(O),h=n(12),g=n.n(h),v=n(10),C=n.n(v),S=n(109),N=n(616),y=function(e){function t(){var e,n;r()(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return n=o()(this,(e=l()(t)).call.apply(e,[this].concat(i))),_()(m()(n),"renderChildren",function(){var e;e=n.props&&(Object.keys(n.props).length>1||!n.props.children)?C.a.createElement("div",n.props,n.props.children):n.props.children,n.context.store&&(e=C.a.createElement(S.a,{store:n.context.store},C.a.createElement(N.b,null,e))),b.a.render(e,n.container)}),n}return f()(t,e),c()(t,[{key:"componentDidMount",value:function(){this.container=document.createElement("div"),document.body.appendChild(this.container),this.renderChildren()}},{key:"componentDidUpdate",value:function(){this.renderChildren()}},{key:"componentWillUnmount",value:function(){this.container&&(b.a.unmountComponentAtNode(this.container),document.body.removeChild(this.container),delete this.container)}},{key:"render",value:function(){return null}}]),t}(C.a.Component);_()(y,"contextTypes",{store:g.a.object})},616:function(e,t,n){"use strict";n.d(t,"b",function(){return T}),n.d(t,"a",function(){return k});var a=n(111),r=n.n(a),i=n(107),c=n.n(i),s=n(108),o=n.n(s),u=n(530),l=n.n(u),d=n(529),m=n.n(d),p=n(534),f=n.n(p),E=n(531),_=n.n(E),O=n(35),b=n.n(O),h=n(10),g=n.n(h),v=n(109),C=n(164),S=n.n(C),N=n(47),y=n.n(N),j=n(1),I=n(546),R=Object(I.a)(function(e){return Object(j.get)(e,"ui.language.localeSlug",null)},function(e){return e.ui.language}),P=y()("calypso:localized-moment"),k=g.a.createContext(S.a),M=function(e){function t(){var e,n;c()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=l()(this,(e=m()(t)).call.apply(e,[this].concat(r))),b()(f()(n),"state",{moment:S.a,momentLocale:S.a.locale()}),n}return _()(t,e),o()(t,[{key:"checkAndLoad",value:function(){var e=r()(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((a=this.props.currentLocale)!==t){e.next=3;break}return e.abrupt("return");case 3:if("en"!==a){e.next=7;break}this.loadingLocalePromise=Promise.resolve(),e.next=19;break;case 7:return P("Loading moment locale for %s",a),e.prev=8,this.loadingLocalePromise=n(626)("./".concat(a)),e.next=12,this.loadingLocalePromise;case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(8),P("Failed to load moment locale for %s",a,e.t0),e.abrupt("return");case 18:P("Loaded moment locale for %s",a);case 19:a===this.props.currentLocale&&(S.a.locale()!==a&&S.a.locale(a),this.setState({momentLocale:a}));case 20:case"end":return e.stop()}},e,this,[[8,14]])}));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.checkAndLoad(S.a.locale())}},{key:"componentDidUpdate",value:function(e){this.checkAndLoad(e.currentLocale)}},{key:"render",value:function(){return g.a.createElement(k.Provider,{value:this.state},this.props.children)}}]),t}(g.a.Component),T=Object(v.b)(function(e){return{currentLocale:R(e)}})(M)},618:function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return s});n(1);var a=n(663),r=n.n(a),i=document.implementation&&document.implementation.createHTMLDocument?document.implementation.createHTMLDocument("").createElement("textarea"):document.createElement("textarea");function c(e){return"string"!==typeof e||-1===e.indexOf("&")?e:function(e){i.innerHTML=e;var t=i.textContent;return i.innerHTML="",t}(e)}function s(e){return r()(e)}String.fromCharCode(160)},622:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return l});var a=n(34),r=n(607),i=n(1),c=n(545),s={a4:{name:Object(a.translate)("A4"),exclude:function(e){return Object(i.includes)(["US","CA","MX","DO"],e)}},label:{name:Object(a.translate)('Label (4"x6")')},legal:{name:Object(a.translate)("Legal")},letter:{name:Object(a.translate)("Letter")}},o=function(e){return Object(i.reduce)(s,function(t,n,a){var r=n.name,i=n.exclude;return i&&i(e)||(t[a]=r),t},{})},u=function(e,t,n){if(!s[e])throw new Error("Invalid paper size: ".concat(e));var a={paper_size:e,label_id_csv:Object(i.filter)(Object(i.map)(t,"labelId")).join(","),caption_csv:Object(i.filter)(Object(i.map)(t,function(e){return e.caption?encodeURIComponent(e.caption):null})).join(","),json:!0};return n+"?"+Object(r.stringify)(a)},l=function(e,t){return u(e,t,c.e.labelsPrint())}},626:function(e,t,n){var a={"./af":[392,2],"./af.js":[392,2],"./ar":[399,3],"./ar-dz":[393,4],"./ar-dz.js":[393,4],"./ar-kw":[394,5],"./ar-kw.js":[394,5],"./ar-ly":[395,6],"./ar-ly.js":[395,6],"./ar-ma":[396,7],"./ar-ma.js":[396,7],"./ar-sa":[397,8],"./ar-sa.js":[397,8],"./ar-tn":[398,9],"./ar-tn.js":[398,9],"./ar.js":[399,3],"./az":[400,10],"./az.js":[400,10],"./be":[401,11],"./be.js":[401,11],"./bg":[402,12],"./bg.js":[402,12],"./bm":[403,13],"./bm.js":[403,13],"./bn":[405,14],"./bn-bd":[404,15],"./bn-bd.js":[404,15],"./bn.js":[405,14],"./bo":[406,16],"./bo.js":[406,16],"./br":[407,17],"./br.js":[407,17],"./bs":[408,18],"./bs.js":[408,18],"./ca":[409,19],"./ca.js":[409,19],"./cs":[410,20],"./cs.js":[410,20],"./cv":[411,21],"./cv.js":[411,21],"./cy":[412,22],"./cy.js":[412,22],"./da":[413,23],"./da.js":[413,23],"./de":[416,24],"./de-at":[414,25],"./de-at.js":[414,25],"./de-ch":[415,26],"./de-ch.js":[415,26],"./de.js":[416,24],"./dv":[417,27],"./dv.js":[417,27],"./el":[418,28],"./el.js":[418,28],"./en-au":[419,29],"./en-au.js":[419,29],"./en-ca":[420,30],"./en-ca.js":[420,30],"./en-gb":[421,31],"./en-gb.js":[421,31],"./en-ie":[422,32],"./en-ie.js":[422,32],"./en-il":[423,33],"./en-il.js":[423,33],"./en-in":[424,34],"./en-in.js":[424,34],"./en-nz":[425,35],"./en-nz.js":[425,35],"./en-sg":[426,36],"./en-sg.js":[426,36],"./eo":[427,37],"./eo.js":[427,37],"./es":[431,38],"./es-do":[428,39],"./es-do.js":[428,39],"./es-mx":[429,40],"./es-mx.js":[429,40],"./es-us":[430,41],"./es-us.js":[430,41],"./es.js":[431,38],"./et":[432,42],"./et.js":[432,42],"./eu":[433,43],"./eu.js":[433,43],"./fa":[434,44],"./fa.js":[434,44],"./fi":[435,45],"./fi.js":[435,45],"./fil":[436,46],"./fil.js":[436,46],"./fo":[437,47],"./fo.js":[437,47],"./fr":[440,48],"./fr-ca":[438,49],"./fr-ca.js":[438,49],"./fr-ch":[439,50],"./fr-ch.js":[439,50],"./fr.js":[440,48],"./fy":[441,51],"./fy.js":[441,51],"./ga":[442,52],"./ga.js":[442,52],"./gd":[443,53],"./gd.js":[443,53],"./gl":[444,54],"./gl.js":[444,54],"./gom-deva":[445,55],"./gom-deva.js":[445,55],"./gom-latn":[446,56],"./gom-latn.js":[446,56],"./gu":[447,57],"./gu.js":[447,57],"./he":[448,58],"./he.js":[448,58],"./hi":[449,59],"./hi.js":[449,59],"./hr":[450,60],"./hr.js":[450,60],"./hu":[451,61],"./hu.js":[451,61],"./hy-am":[452,62],"./hy-am.js":[452,62],"./id":[453,63],"./id.js":[453,63],"./is":[454,64],"./is.js":[454,64],"./it":[456,65],"./it-ch":[455,66],"./it-ch.js":[455,66],"./it.js":[456,65],"./ja":[457,67],"./ja.js":[457,67],"./jv":[458,68],"./jv.js":[458,68],"./ka":[459,69],"./ka.js":[459,69],"./kk":[460,70],"./kk.js":[460,70],"./km":[461,71],"./km.js":[461,71],"./kn":[462,72],"./kn.js":[462,72],"./ko":[463,73],"./ko.js":[463,73],"./ku":[464,74],"./ku.js":[464,74],"./ky":[465,75],"./ky.js":[465,75],"./lb":[466,76],"./lb.js":[466,76],"./lo":[467,77],"./lo.js":[467,77],"./lt":[468,78],"./lt.js":[468,78],"./lv":[469,79],"./lv.js":[469,79],"./me":[470,80],"./me.js":[470,80],"./mi":[471,81],"./mi.js":[471,81],"./mk":[472,82],"./mk.js":[472,82],"./ml":[473,83],"./ml.js":[473,83],"./mn":[474,84],"./mn.js":[474,84],"./mr":[475,85],"./mr.js":[475,85],"./ms":[477,86],"./ms-my":[476,87],"./ms-my.js":[476,87],"./ms.js":[477,86],"./mt":[478,88],"./mt.js":[478,88],"./my":[479,89],"./my.js":[479,89],"./nb":[480,90],"./nb.js":[480,90],"./ne":[481,91],"./ne.js":[481,91],"./nl":[483,92],"./nl-be":[482,93],"./nl-be.js":[482,93],"./nl.js":[483,92],"./nn":[484,94],"./nn.js":[484,94],"./oc-lnc":[485,95],"./oc-lnc.js":[485,95],"./pa-in":[486,96],"./pa-in.js":[486,96],"./pl":[487,97],"./pl.js":[487,97],"./pt":[489,98],"./pt-br":[488,99],"./pt-br.js":[488,99],"./pt.js":[489,98],"./ro":[490,100],"./ro.js":[490,100],"./ru":[491,101],"./ru.js":[491,101],"./sd":[492,102],"./sd.js":[492,102],"./se":[493,103],"./se.js":[493,103],"./si":[494,104],"./si.js":[494,104],"./sk":[495,105],"./sk.js":[495,105],"./sl":[496,106],"./sl.js":[496,106],"./sq":[497,107],"./sq.js":[497,107],"./sr":[499,108],"./sr-cyrl":[498,109],"./sr-cyrl.js":[498,109],"./sr.js":[499,108],"./ss":[500,110],"./ss.js":[500,110],"./sv":[501,111],"./sv.js":[501,111],"./sw":[502,112],"./sw.js":[502,112],"./ta":[503,113],"./ta.js":[503,113],"./te":[504,114],"./te.js":[504,114],"./tet":[505,115],"./tet.js":[505,115],"./tg":[506,116],"./tg.js":[506,116],"./th":[507,117],"./th.js":[507,117],"./tk":[508,118],"./tk.js":[508,118],"./tl-ph":[509,119],"./tl-ph.js":[509,119],"./tlh":[510,120],"./tlh.js":[510,120],"./tr":[511,121],"./tr.js":[511,121],"./tzl":[512,122],"./tzl.js":[512,122],"./tzm":[514,123],"./tzm-latn":[513,124],"./tzm-latn.js":[513,124],"./tzm.js":[514,123],"./ug-cn":[515,125],"./ug-cn.js":[515,125],"./uk":[516,126],"./uk.js":[516,126],"./ur":[517,127],"./ur.js":[517,127],"./uz":[519,128],"./uz-latn":[518,129],"./uz-latn.js":[518,129],"./uz.js":[519,128],"./vi":[520,130],"./vi.js":[520,130],"./x-pseudo":[521,131],"./x-pseudo.js":[521,131],"./yo":[522,132],"./yo.js":[522,132],"./zh-cn":[523,133],"./zh-cn.js":[523,133],"./zh-hk":[524,134],"./zh-hk.js":[524,134],"./zh-mo":[525,135],"./zh-mo.js":[525,135],"./zh-tw":[526,136],"./zh-tw.js":[526,136]};function r(e){if(!n.o(a,e))return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=a[e],r=t[0];return n.e(t[1]).then(function(){return n.t(r,7)})}r.keys=function(){return Object.keys(a)},r.id=626,e.exports=r},627:function(e,t,n){"use strict";(function(e){var n={env:e?"production":"development",wpcom_concierge_schedule_id:1,languages:[],google_adwords_conversion_id:"",google_adwords_conversion_id_jetpack:""},a=function(e){if(e in n)return n[e];throw new Error("config key `"+e+"` does not exist")};a.isEnabled=function(){return!0},t.a=a}).call(this,n(112))},635:function(e,t,n){},636:function(e,t,n){"use strict";var a=n(10),r=n.n(a),i=n(12),c=n.n(i),s=n(679),o=n.n(s),u=n(680),l=n.n(u),d=n(681),m=n.n(d),p={ups:o.a,usps:l.a,dhlexpress:m.a,dhlecommerce:m.a,dhlecommerceasia:m.a},f=function(e){var t=e.carrier,n=e.size;if(!t||!p[t.toLowerCase()])return r.a.createElement("span",null);var a="".concat(function(e){switch(e){case"small":return 24;case"big":return 40;case"medium":default:return 30}}(n),"px");return r.a.createElement("div",{style:{width:a},className:"carrier-icon"},r.a.createElement("img",{src:p[t.toLowerCase()],alt:t,className:"carrier-icon__logo"}))};f.propTypes={carrier:c.a.string.isRequired,size:c.a.number},t.a=f},637:function(e,t,n){"use strict";var a=n(35),r=n.n(a),i=n(110),c=n.n(i),s=n(1),o=n(34),u=n(538),l=n(593),d=n(549),m=n(544),p=n(576),f=n(562),E=n(535),_=n(541);n(572),n(563),n(579),n(613),n(627);var O=n(545),b=n(36),h=n.n(b);function g(e,t,n,a){Object(s.isFunction)(n)?g(e,t,n(e,t,a),a):Object(s.isObject)(n)&&e(h()({},n,a))}var v,C=n(577),S=n(614),N=function(e,t){var n=Object(m.e)(e,t);return!n||n.pristine?[]:[{description:Object(o.translate)("Saving label settings"),onStep:function(e,n){e(Object(f.submit)(t,function(){return e(Object(l.e)(n))},function(){return e(Object(l.c)(n))}))}}]},y=function(e,t){var n=Object(E.a)(e);return t?c()(N(e,n)):[].concat(c()(function(e,t){var n=Object(d.g)(e,t);return!n||n.pristine||!n.can_edit_settings&&n.can_manage_payments?[]:[{description:Object(o.translate)("Saving label settings"),onStep:function(e,n){e(Object(p.e)(t,function(){return e(Object(l.e)(n))},function(){return e(Object(l.c)(n))}))}}]}(e,n)),c()(N(e,n)))};t.a=(v={},r()(v,u.L,[function(e,t){var n=t.successAction,a=t.failureAction,r=t.onlyPackages,i=function(e){e(n),e(Object(l.b)())},c=y(e.getState(),r);e.dispatch(Object(s.isEmpty)(c)?i:Object(l.d)({nextSteps:c,onSuccess:i,onFailure:function(e){e(a),e(Object(l.b)())}}))}]),r()(v,_.Rb,[function(e,t){var n=e.dispatch,a=e.getState,r=t.siteId,i=t.methodId,c=t.methodType,s=t.method,o=t.successAction,l=t.failureAction,d=Object(C.a)(a(),c,r).formSchema,m=Object(S.a)(d,s);O.c(r,O.e.serviceSettings(c,i),m).then(function(e){n(function(e,t,n){return{type:u.Fb,siteId:e,data:t,originatingAction:n}}(r,e,t)),g(n,a,o,{sentData:m,receivedData:e})}).catch(function(e){return g(n,a,l,{error:e})})}]),v)},647:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a=function(){return"https://wordpress.com"}},648:function(e,t,n){"use strict";var a=n(10),r=n.n(a),i=n(12),c=n.n(i),s=n(34),o=n(1),u=n(537),l=n.n(u),d=n(528),m=n.n(d),p=function(e){var t=e.isPlaceholder,n=e.data,a=e.dimensionUnit,i=e.prefixActions,c=(e.hasError,e.children),s=e.translate;if(t)return r.a.createElement("div",{className:"packages__packages-row placeholder"},r.a.createElement("div",{className:"packages__packages-row-icon"},r.a.createElement(l.a,{icon:"product",size:18})),r.a.createElement("div",{className:"packages__packages-row-details"},r.a.createElement("div",{className:"packages__packages-row-details-name"},r.a.createElement("span",null))),r.a.createElement("div",{className:"packages__packages-row-dimensions"},r.a.createElement("span",null)),r.a.createElement("div",{className:"packages__packages-row-actions"},c));var u,d=function(){return r.a.createElement("div",{className:"packages__packages-row-actions"},c)};return r.a.createElement("div",{className:m()("packages__packages-row",{prefixed:i})},i?d():null,r.a.createElement("div",{className:"packages__packages-row-icon"},function(e){var t=e?"mail":"product";return r.a.createElement(l.a,{icon:t,size:18})}(n.is_letter)),r.a.createElement("div",{className:"packages__packages-row-details"},r.a.createElement("div",{className:"packages__packages-row-details-name"},(u=n.name)&&""!==Object(o.trim)(u)?u:s("Untitled"))),r.a.createElement("div",{className:"packages__packages-row-dimensions"},n.inner_dimensions," ",a),i?null:d())};p.propTypes={siteId:c.a.number.isRequired,isPlaceholder:c.a.bool,data:c.a.shape({name:c.a.string,is_letter:c.a.bool,inner_dimensions:c.a.string}).isRequired,prefixActions:c.a.bool,dimensionUnit:c.a.string},t.a=Object(s.localize)(p)},649:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n(538);function r(e,t,n){return{type:a.L,successAction:e,failureAction:t,onlyPackages:n||!1}}},655:function(e,t,n){"use strict";var a=n(110),r=n.n(a),i=n(36),c=n.n(i),s=n(1),o=n(541),u={modalErrors:{},pristine:!0},l=function(e){return null===e||""===Object(s.trim)(e)},d={};d[o.g]=function(e){var t=e.packages&&e.packages.predefined?e.packages.predefined:{},n=c()({},e,{showModal:!0,mode:"add-custom",currentlyEditingPredefinedPackages:Object(s.cloneDeep)(t)});return"edit"!==e.mode&&n.packageData||(n.packageData={is_user_defined:!0}),n},d[o.i]=function(e,t){return Object.assign({},e,{showModal:!0,modalReadOnly:!1,mode:"edit",packageData:t.package,showOuterDimensions:!1})},d[o.h]=function(e){return Object.assign({},e,{modalErrors:{},showModal:!1,showOuterDimensions:!1})},d[o.s]=function(e,t){return Object.assign({},e,{modalErrors:t.value})},d[o.w]=function(e,t){var n=Object.assign({},e.packageData,t.values),a=Object(s.omitBy)(n,l);return Object.assign({},e,{packageData:a,pristine:!1})},d[o.m]=function(e,t){var n=t.packageData,a=e.packages.custom||[];(n.box_weight&&(n.box_weight=Number.parseFloat(n.box_weight)),n.max_weight&&(n.max_weight=Number.parseFloat(n.max_weight)),"index"in n)?a[n.index]=Object(s.omit)(n,"index"):a.push(n);return e=d[o.h](e),c()({},e,{mode:"add-custom",packageData:{is_user_defined:!0},packages:c()({},e.packages,{custom:a}),pristine:!1})},d[o.u]=function(e){return c()({},e,{showOuterDimensions:!0})},d[o.k]=function(e,t){var n=r()(e.packages.custom);return n.splice(t.index,1),c()({},e,{packages:c()({},e.packages,{custom:n}),pristine:!1,showModal:!1})},d[o.t]=function(e,t){var n=t.serviceId,a=t.groupId,r=t.checked,i=e.predefinedSchema[n][a].definitions.map(function(e){return e.id}),o=e.currentlyEditingPredefinedPackages[n],u=r?Object(s.uniq)(Object(s.concat)(o,i)):Object(s.difference)(o,i),l=c()({},e.currentlyEditingPredefinedPackages);return l[n]=u,c()({},e,{currentlyEditingPredefinedPackages:l,pristine:!1})},d[o.v]=function(e,t){var n=t.serviceId,a=t.packageId,i=c()({},e.currentlyEditingPredefinedPackages),s=r()(i[n]||[]),o=s.indexOf(a);return-1===o?s.push(a):s.splice(o,1),i[n]=s,c()({},e,{currentlyEditingPredefinedPackages:i,pristine:!1})},d[o.l]=function(e,t){var n=t.serviceId,a=t.packageId,i=c()({},e.packages.predefined),s=r()(i[n]||[]),o=s.indexOf(a);return-1!==o&&s.splice(o,1),i[n]=s,c()({},e,{packages:c()({},e.packages,{predefined:i}),pristine:!1})},d[o.n]=function(e){var t=e.currentlyEditingPredefinedPackages;return e=d[o.h](e),c()({},e,{packages:c()({},e.packages,{predefined:t}),pristine:!1})},d[o.o]=function(e,t){var n=t.mode;return c()({},e,{mode:n})},d[o.r]=function(e,t){return Object.assign({},e,{isSaving:t.isSaving,pristine:!t.isSaving})},d[o.p]=function(e,t){var n=t.isFetching;return c()({},e,{isFetching:n})},d[o.q]=function(e,t){var n=t.isFetchError;return c()({},e,{isFetchError:n})},d[o.j]=function(e,t){var n=t.packages,a=t.dimensionUnit,r=t.weightUnit,i=t.packageSchema,s=t.predefinedSchema;return c()({},e,{packages:n,dimensionUnit:a,weightUnit:r,packageSchema:i,predefinedSchema:s,packageData:e.packageData||{is_user_defined:!0},isLoaded:!0})};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;return"function"===typeof d[t.type]?d[t.type](e,t):e}},656:function(e,t,n){"use strict";var a=n(35),r=n.n(a),i=n(36),c=n.n(i),s=n(541),o={meta:{error:!1,fieldsStatus:!1,isSaving:!1,isFetching:!1,isLoaded:!1,isFetchError:!1,pristine:!0},data:null,pristineData:null},u={};u[s.b]=function(e,t){var n=t.storeOptions,a=t.formData,r=t.formMeta,i=t.userMeta;return c()({},e,{storeOptions:n,meta:c()({},e.meta,r,{pristine:!0,isLoaded:!0,user:i}),data:c()({},e.data,a)})},u[s.e]=function(e,t){var n=t.key,a=t.value,i=e.meta.pristine?e.data:e.pristineData;return c()({},e,{meta:c()({},e.meta,{pristine:!1}),data:c()({},e.data,r()({},n,a)),pristineData:i})},u[s.f]=function(e,t){var n=t.key,a=t.value;return c()({},e,{meta:c()({},e.meta,r()({},n,a))})},u[s.d]=function(e){return e.meta.pristine?e:c()({},e,{meta:c()({},e.meta,{pristine:!0}),data:e.pristineData,pristineData:null})},u[s.c]=function(e){return c()({},e,{addCardDialog:!0})},u[s.a]=function(e){return c()({},e,{addCardDialog:null})};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;return u[t.type]?u[t.type](e,t):e}},661:function(e,t,n){"use strict";var a,r=n(110),i=n.n(r),c=n(36),s=n.n(c),o=n(119),u=n.n(o),l=n(35),d=n.n(l),m=n(47),p=n.n(m),f=n(593),E=n(538),_=p()("woocommerce:action-list");t.a=(a={},d()(a,E.d,[function(e,t){var n=e.dispatch,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now(),r=t.actionList,i=r.prevSteps,c=r.currentStep,o=r.nextSteps||[],l=u()(o),d=l[0],m=l.slice(1);if(c)return void _("[handleStepNext] Warning: Attempting before current step finishes. Ignoring.");if(!d)return void _("[handleStepNext] Warning: Attempting with no nextSteps left. Ignoring.");var p=s()({},r,{prevSteps:i,currentStep:s()({},d,{startTime:a}),nextSteps:m});n(Object(f.a)(p)),d.onStep(n,p)}]),d()(a,E.e,[function(e,t){var n=e.dispatch,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now(),r=t.actionList,c=r.prevSteps,o=r.currentStep,u=r.nextSteps;if(!o)return void _("[handleStepSuccess] Warning: Attempting with no current step. Ignoring.");var l=s()({},r,{prevSteps:[].concat(i()(c||[]),[s()({},o,{endTime:a})]),currentStep:null,nextSteps:u});n(Object(f.a)(l)),u&&u.length>0?n(Object(f.d)(l)):r.onSuccess&&r.onSuccess(n,l)}]),d()(a,E.c,[function(e,t){var n=e.dispatch,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Date.now(),r=t.actionList,c=t.error,o=r.prevSteps,u=r.currentStep,l=r.nextSteps;if(!u)return void _("[handleStepFailure] Warning: Attempting with no current step. Ignoring.");var d=s()({},r,{prevSteps:[].concat(i()(o||[]),[s()({},u,{endTime:a,error:c})]),currentStep:null,nextSteps:l});n(Object(f.a)(d)),r.onFailure&&r.onFailure(n,d)}]),a)},662:function(e,t,n){"use strict";var a,r=n(35),i=n.n(r),c=n(46),s=n(538),o=n(542),u=n(618);t.a=Object(c.b)(null,(a={},i()(a,s.k,function(){return o.b}),i()(a,s.l,function(e,t){return t.data.map(function(e){return{code:e.code,name:Object(u.a)(e.name),countries:e.countries.map(function(e){return{code:e.code,name:Object(u.a)(e.name),states:e.states.map(function(e){return{code:e.code,name:Object(u.a)(e.name)}})}})}})}),i()(a,s.j,function(e,t){var n=t.originalAction.type;return s.k===n?o.a:e}),a))},675:function(e,t,n){"use strict";n.d(t,"a",function(){return M});n(533);var a=n(107),r=n.n(a),i=n(108),c=n.n(i),s=n(530),o=n.n(s),u=n(529),l=n.n(u),d=(n(534),n(531)),m=n.n(d),p=n(35),f=n.n(p),E=n(12),_=n.n(E),O=n(10),b=n(47),h=n.n(b),g=(n(676),n(34)),v=n.n(g),C=n(1),S=h()("calypso:protect-form"),N=[],y=0;function j(e){if(N.length){S("unsaved form changes detected");var t=v.a.translate("You have unsaved changes.");return(e||window.event).returnValue=t,t}}function I(){0===y&&window.addEventListener("beforeunload",j),y++}function R(){0===--y&&window.removeEventListener("beforeunload",j)}function P(e){Object(C.includes)(N,e)||N.push(e)}function k(e){N=Object(C.without)(N,e)}var M=function(e){function t(){return r()(this,t),o()(this,l()(t).apply(this,arguments))}return m()(t,e),c()(t,[{key:"componentDidMount",value:function(){I(),this.props.isChanged&&P(this)}},{key:"componentWillUnmount",value:function(){R(),k(this)}},{key:"componentWillReceiveProps",value:function(e){e.isChanged!==this.props.isChanged&&(e.isChanged?P(this):k(this))}},{key:"render",value:function(){return null}}]),t}(O.Component);f()(M,"propTypes",{isChanged:_.a.bool.isRequired})},677:function(e,t,n){"use strict";var a=n(107),r=n.n(a),i=n(108),c=n.n(i),s=n(530),o=n.n(s),u=n(529),l=n.n(u),d=n(531),m=n.n(d),p=n(10),f=n(12),E=n.n(f),_=n(109),O=n(30),b=n(576),h=n(549),g=function(e){function t(){return r()(this,t),o()(this,l()(t).apply(this,arguments))}return m()(t,e),c()(t,[{key:"fetch",value:function(e){var t=e.siteId,n=e.loaded,a=e.fetching,r=e.error;n||a||r||this.props.fetchSettings(t)}},{key:"UNSAFE_componentWillMount",value:function(){this.fetch(this.props)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.fetch(e)}},{key:"render",value:function(){return null}}]),t}(p.Component);g.propTypes={siteId:E.a.number.isRequired},t.a=Object(_.b)(function(e){return{loaded:Object(h.d)(e),fetching:Object(h.c)(e),error:Object(h.b)(e)}},function(e){return Object(O.b)({fetchSettings:b.a},e)})(g)},678:function(e,t,n){"use strict";var a=n(107),r=n.n(a),i=n(108),c=n.n(i),s=n(530),o=n.n(s),u=n(529),l=n.n(u),d=n(531),m=n.n(d),p=n(10),f=n(12),E=n.n(f),_=n(109),O=n(30),b=n(562),h=n(544),g=function(e){function t(){return r()(this,t),o()(this,l()(t).apply(this,arguments))}return m()(t,e),c()(t,[{key:"fetch",value:function(e){var t=e.siteId,n=e.loaded,a=e.fetching,r=e.error;n||a||r||this.props.fetchSettings(t)}},{key:"UNSAFE_componentWillMount",value:function(){this.fetch(this.props)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.fetch(e)}},{key:"render",value:function(){return null}}]),t}(p.Component);g.propTypes={siteId:E.a.number.isRequired},t.a=Object(_.b)(function(e){return{loaded:Object(h.i)(e),fetching:Object(h.h)(e),error:Object(h.g)(e)}},function(e){return Object(O.b)({fetchSettings:b.fetchSettings},e)})(g)},679:function(e,t,n){e.exports=n.p+"images/881843a7135b8abd4794bd2d33dc8b3c.png"},680:function(e,t,n){e.exports=n.p+"images/41c6838923ebde874f7fc71db18dcae5.png"},681:function(e,t,n){e.exports=n.p+"images/224d57e46d3ace2d89e5c790bd828d32.png"},682:function(e,t,n){"use strict";var a=n(36),r=n.n(a),i=n(10),c=n.n(i),s=n(12),o=n.n(s),u=n(109),l=n(34),d=n(1),m=n(537),p=n.n(m),f=n(35),E=n.n(f),_=n(697),O=n(107),b=n.n(O),h=n(108),g=n.n(h),v=n(530),C=n.n(v),S=n(529),N=n.n(S),y=n(531),j=n.n(y),I=n(30),R=n(528),P=n.n(R);function k(e){return Object(d.get)(e,["currentUser","id"])}function M(e){var t=k(e);return t?function(e,t){return e.users.items[t]}(e,t):null}var T=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n){var a=M(n);return Object(d.get)(a,e,t)}};T("localeSlug"),T("localeVariant"),T("user_ip_country_code");T("date"),T("username"),T("email");T("email_verified",!1);var A=n(535),L=n(565);function w(e){var t=Object(A.a)(e);return t||1!==function(e){var t=M(e);return t?t.site_count||0:null}(e)||(t=function(e){var t=M(e);return Object(d.get)(t,"primary_blog",null)}(e)),Object(L.a)(e,t)}var x=n(542),D=function(e,t){return Object(d.get)(e,["extensions","woocommerce","sites",t,"settings","products"])},W=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(A.a)(e);return Object(d.isArray)(D(e,t))},U=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(A.a)(e);return x.b===D(e,t)};function V(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(A.a)(e),n=D(e,t);return Object(d.find)(n,function(e){return"woocommerce_dimension_unit"===e.id})||{}}var G=n(572),H=n(563),F=n(538),B=function(e){return function(t,n){if(!W(n(),e)&&!U(n(),e)){var a={type:F.N,siteId:e};return t(a),Object(G.a)(e).get("settings/products").then(function(n){t({type:F.O,siteId:e,data:n})}).catch(function(n){t(Object(H.a)(e,a,n))})}}},z=n(603),q=function(e){function t(){return b()(this,t),C()(this,N()(t).apply(this,arguments))}return j()(t,e),g()(t,[{key:"componentDidMount",value:function(){var e=this.props.siteId;e&&this.props.fetchSettingsProducts(e)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.siteId!==this.props.siteId&&this.props.fetchSettingsProducts(e.siteId)}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.noWrap,a=e.dimensions,r=e.onChange,i=e.translate,s=e.dimensionsUnit,o=P()("form-dimensions-input",t,{"no-wrap":n});return c.a.createElement("div",{className:o},c.a.createElement(_.a,{name:"length",placeholder:i("L",{comment:"Length placeholder for dimensions input"}),type:"number",value:a&&a.length||"",onChange:function(e){return r(e,"length")},className:"form-dimensions-input__length"}),c.a.createElement(_.a,{name:"width",placeholder:i("W",{comment:"Width placeholder for dimensions input"}),type:"number",value:a&&a.width||"",onChange:function(e){return r(e,"width")},className:"form-dimensions-input__width"}),c.a.createElement(z.a,{name:"height",placeholder:i("H",{comment:"Height placeholder for dimensions input"}),suffix:s,type:"number",value:a&&a.height||"",onChange:function(e){return r(e,"height")},className:"form-dimensions-input__height"}))}}]),t}(i.Component);E()(q,"propTypes",{className:o.a.string,dimensions:o.a.shape({width:o.a.string,height:o.a.string,length:o.a.string}),dimensionsUnit:o.a.string,onChange:o.a.func.isRequired,noWrap:o.a.bool}),E()(q,"defaultProps",{value:"",className:"",onChange:d.noop,noWrap:!1});var Z=Object(u.b)(function(e,t){var n=t.dimensionsUnit,a=w(e);if(!n){var r=a&&V(e,a.ID);n=r&&r.value||"in"}return{siteId:a&&a.ID,dimensionsUnit:n}},function(e){return Object(I.b)({fetchSettingsProducts:B},e)})(Object(l.localize)(q)),K=n(548),Q=n(551),Y=n(569),$=n(552),X=/^\.\d+$/,J=/^\d+\.$/,ee=function(e){return e=Object(d.trim)(e),X.test(e)?e="0"+e:J.test(e)&&(e=e.slice(0,e.length-1)),e},te=/^\s*(\S+)\s*x\s*(\S+)\s*x\s*(\S+)\s*$/,ne=/^\s*(\S+)?\s*x\s*(\S+)?\s*x\s*(\S+)?\s*$/,ae=function(e){return isNaN(e)?"":0>e?"":e},re=function(e){var t="",n="",a="",r=ne.exec(e);return r&&4===r.length&&(t=ae(r[1]),n=ae(r[2]),a=ae(r[3])),{length:t,width:n,height:a}},ie=function(e){return Object(d.trim)(e)},ce=ee,se=function(e){var t=te.exec(e);return t?[t[1],t[2],t[3]].map(ee).join(" x "):e},oe=re,ue=function(e){var t=re(e),n=t.length,a=t.width,r=t.height;return 0<n&&0<a&&0<r},le=function(e){var t=e.siteId,n=e.form,a=e.setModalErrors,r=e.updatePackagesField,i=e.translate,s=n.mode,o=n.modalErrors,u=n.dimensionUnit,l=n.weightUnit,m=n.packageData,p=m.name,f=m.inner_dimensions,O=m.box_weight,b=m.is_letter,h=function(e,n){a(t,Object(d.omit)(o,e)),r(t,E()({},e,n))},g=function(e,t){h(t,e)},v=function(e,t){var n=t||i("Invalid value."),a=""===Object(d.trim)(m[e])?i("This field is required."):n;return o[e]?c.a.createElement($.a,{text:a}):null},C=function(e){r(t,{is_letter:"envelope"===e.target.value})};return c.a.createElement("div",{className:"packages__properties-group"},"add-custom"===s?c.a.createElement(K.a,null,c.a.createElement(Q.a,{htmlFor:"package_type"},i("Type of package")),c.a.createElement(Y.a,{id:"package_type",onChange:C,value:b?"envelope":"box"},c.a.createElement("option",{value:"box"},i("Box")),c.a.createElement("option",{value:"envelope"},i("Envelope")))):null,c.a.createElement(K.a,null,c.a.createElement(Q.a,{htmlFor:"name"},i("Package name")),c.a.createElement(_.a,{id:"name",name:"name",placeholder:i("Unique package name"),value:p||"",onChange:function(e){return g(e,"name")},className:o.name?"is-error":""}),v("name",i("This field must be unique"))),c.a.createElement(K.a,{className:"packages__add-package-weight-group"},c.a.createElement("div",{className:"packages__add-package-weight"},c.a.createElement(Q.a,null,i("Dimensions (L x W x H)")),function(e,t,n,a){var r=oe(t),i=r.length,s=r.width,o=r.height;return c.a.createElement(Z,{dimensionsUnit:n,dimensions:{width:s,height:o,length:i},onChange:function(t,n){a(e,["length"===n?t:i,"width"===n?t:s,"height"===n?t:o].join(" x "))}})}("inner_dimensions",f,u,h),v("inner_dimensions")),c.a.createElement("div",{className:"packages__add-package-weight"},c.a.createElement(Q.a,{htmlFor:"box_weight"},i("Weight of empty package")),c.a.createElement(z.a,{id:"box_weight",name:"box_weight",placeholder:i("0.0"),value:O||"",onChange:function(e){return g(e,"box_weight")},className:o.box_weight?"is-error":"",type:"number",suffix:l}),v("box_weight"))))};le.propTypes={siteId:o.a.number.isRequired,form:o.a.object.isRequired,updatePackagesField:o.a.func.isRequired,packageData:o.a.shape({name:o.a.string.isRequired,inner_dimensions:o.a.string.isRequired,box_weight:o.a.number.isRequired,is_user_defined:o.a.bool.isRequired,is_letter:o.a.bool.isRequired}),setModalErrors:o.a.func.isRequired};var de=Object(l.localize)(le),me=n(115),pe=n.n(me),fe=Object(d.memoize)(function(e){return pe()(e,{greedy:!0})}),Ee=function(e){return e&&""!==Object(d.trim)(e)?e:null},_e=function(e,t){return e=Ee(e),Object(d.some)(t,function(t){return t===e})?null:e},Oe=/^\d+(\.\d+)?$/,be=function(e){return Oe.test(e)?Number.parseFloat(e):null},he=function(e,t,n){var a,r=fe(n);return r(function(e,t){var n=be(e.box_weight),a=be(e.max_weight);n&&a&&a<=n&&(a=null);var r={name:_e(e.name,t),inner_dimensions:e.inner_dimensions,outer_dimensions:Ee(e.outer_dimensions),box_weight:n,max_weight:a};return Object(d.omitBy)(r,function(e){return null===e})}(e,t)),a=r.errors,Object(d.reduce)(a,function(e,t){if(t.field){var n,a=t.field.replace("data.","");Object.assign(e,(n={},E()(n,a,!0),E()(n,"any",!0),n))}return e},{})},ge=n(570),ve=n(555),Ce=n(583),Se=n(821),Ne=function(e){var t=e.className,n=e.disabled,a=e.id,r=e.onToggle,i=e.readOnly,s=e.selectedElements,o=e.totalElements,u=s&&s===o,l=s&&s<o,d=P()("bulk-select__box",{"is-checked":u}),m=P()("bulk-select__some-checked-icon",{"is-disabled":n}),f=P()("bulk-select",t);return c.a.createElement("span",{className:f},c.a.createElement("span",{className:"bulk-select__container"},c.a.createElement("input",{id:a,type:"checkbox",className:d,onChange:function(e){i||r(!(l||u),e)},checked:u,disabled:n}),l?c.a.createElement(p.a,{className:m,icon:"minus-small",size:18}):null))};Ne.propTypes={totalElements:o.a.number.isRequired,selectedElements:o.a.number.isRequired,onToggle:o.a.func,readOnly:o.a.bool,className:o.a.string,disabled:o.a.bool};var ye=Ne,je=n(602),Ie=n(648),Re=n(544),Pe=function(e){var t=e.siteId,n=e.form,a=e.toggleAll,r=e.togglePackage,i=e.currentlyEditingPredefinedPackages,s=e.translate,o=n.dimensionUnit,u=function(e){var n="group-".concat(e.serviceId,"-").concat(e.groupId);return c.a.createElement("div",{className:"packages__group-header"},c.a.createElement("label",{htmlFor:n,onClick:function(e){return e.stopPropagation()}},c.a.createElement(ye,{id:n,totalElements:e.total,selectedElements:e.selected,onToggle:function(n,r){r.stopPropagation(),a(t,e.serviceId,e.groupId,r.target.checked)},className:"packages__group-header-checkbox"}),e.title))};return c.a.createElement("div",null,function(){var e=[];return Object(d.forEach)(i,function(n,a){var i,l,d=(i=n.selected,l=n.total,i===l?s("All packages selected"):s("%(selectedCount)d package selected","%(selectedCount)d packages selected",{count:i,args:{selectedCount:i}}));e.push(c.a.createElement(je.a,{className:"packages__predefined-packages",key:a,header:u(n),summary:d,expandedSummary:d,clickableHeader:!0,expanded:!1,screenReaderText:s("Expand Services"),icon:"chevron-down"},function(e){return e.packages.map(function(e,n){return c.a.createElement(Ie.a,{key:n,siteId:t,data:e,dimensionUnit:o,prefixActions:!0},c.a.createElement(Se.a,{className:"form-checkbox packages__packages-row-actions",checked:e.selected,onChange:function(){return r(t,e.serviceId,e.id)}}))})}(n)))}),e}())};Pe.propTypes={siteId:o.a.number.isRequired,toggleAll:o.a.func.isRequired,togglePackage:o.a.func.isRequired,form:o.a.shape({dimensionUnit:o.a.string}).isRequired};var ke=Object(u.b)(function(e){return{currentlyEditingPredefinedPackages:Object(Re.c)(e)}})(Object(l.localize)(Pe)),Me=n(534),Te=n.n(Me),Ae=function(e){function t(){var e,n;b()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=C()(this,(e=N()(t)).call.apply(e,[this].concat(r))),E()(Te()(n),"handleKeyEvent",function(e){switch(e.keyCode){case 13:case 32:e.preventDefault(),document.activeElement.click()}}),n}return j()(t,e),g()(t,[{key:"render",value:function(){var e=P()({"segmented-control__item":!0,"is-selected":this.props.selected}),t=P()("segmented-control__link",E()({},"item-index-".concat(this.props.index),null!=this.props.index));return c.a.createElement("li",{className:e},c.a.createElement("a",{href:this.props.path,className:t,onClick:this.props.onClick,title:this.props.title,"data-e2e-value":this.props.value,role:"radio",tabIndex:0,"aria-checked":this.props.selected,onKeyDown:this.handleKeyEvent},c.a.createElement("span",{className:"segmented-control__text"},this.props.children)))}}]),t}(c.a.Component);E()(Ae,"propTypes",{children:o.a.node.isRequired,path:o.a.string,selected:o.a.bool,title:o.a.string,value:o.a.string,onClick:o.a.func,index:o.a.number}),E()(Ae,"defaultProps",{selected:!1});var Le=Ae,we=function(e){function t(){var e,n;b()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=C()(this,(e=N()(t)).call.apply(e,[this].concat(r))),E()(Te()(n),"state",{selected:n.props.initialSelected||n.props.options[0].value}),n}return j()(t,e),g()(t,[{key:"renderOptions",value:function(){var e=this;return this.props.options.map(function(t,n){return c.a.createElement(Le,{index:n,key:n,onClick:function(){e.setState({selected:t.value}),e.props.onSelect&&e.props.onSelect(t)},path:t.path,selected:e.state.selected===t.value,value:t.value},t.label)})}},{key:"render",value:function(){var e={"is-compact":this.props.compact,"is-primary":this.props.primary};return c.a.createElement("ul",{className:P()("segmented-control",e,this.props.className),style:this.props.style,role:"radiogroup"},this.renderOptions())}}]),t}(c.a.Component);E()(we,"propTypes",{className:o.a.string,compact:o.a.bool,initialSelected:o.a.string,onSelect:o.a.func,options:o.a.arrayOf(o.a.shape({value:o.a.string.isRequired,label:o.a.string.isRequired,path:o.a.string})).isRequired,style:o.a.object});var xe=n(649),De=n(550),We=n(562),Ue=function(e){var t,n=e.siteId,a=e.form,r=e.predefinedPackagesSummary,i=e.setModalErrors,s=e.savePackage,o=e.savePredefinedPackages,u=e.dismissModal,l=e.removePackage,m=e.setAddMode,f=e.updatePackagesField,E=e.translate,_=a.showModal,O=a.mode,b=a.packages,h=a.packageSchema,g=a.predefinedSchema,v=a.packageData,C=v.index,S=b.custom,N="edit"===O,y="add-custom"===O,j="add-predefined"===O,I=function(){var t={duration:5e3};e.createWcsShippingSaveActionList(function(){return"function"===typeof e.onSaveSuccess&&"name"in v&&e.onSaveSuccess(v.name),e.successNotice(E("Your shipping packages have been saved."),t)},function(){return e.errorNotice(E("Unable to save your shipping packages. Please try again."),t)},!0)},R=function(){u(n)},P=E(N?"Edit package":"Add a package"),k=y||j,M=y||N,T=j;t=y||j&&0===r.removed?E("Add package","Add packages",{count:y?1:r.added}):E("Done");var A=[c.a.createElement(Ce.a,{onClick:function(){if(j)return o(n),void(e.persistOnSave&&I());var t="number"===typeof v.index?S[v.index].name:null,a=Object(d.concat)(Object(d.difference)(S.map(function(e){return e.name}),[t]),Object(d.flatten)(Object(d.map)(g,function(e){return Object(d.map)(e,function(e){return e.definitions})})),["individual"]),r=Object.assign({},v,{name:ie(v.name),inner_dimensions:se(v.inner_dimensions),outer_dimensions:se(v.outer_dimensions),box_weight:ce(v.box_weight),max_weight:0}),c=he(r,a,h);if(ue(r.inner_dimensions)||(c.any=!0,c.inner_dimensions=!0),c.any)return f(n,r),void i(n,c);s(n,r),e.persistOnSave&&I()}},t),c.a.createElement(Ce.a,{onClick:R,isPrimary:!1},E("Cancel"))];return N&&A.unshift({action:"delete",label:c.a.createElement("span",null,E("{{icon/}} Delete this package",{components:{icon:c.a.createElement(p.a,{icon:"trash"})}})),onClick:function(){return l(n,C)},additionalClassNames:"packages__delete is-scary is-borderless"}),c.a.createElement(ge.a,{isVisible:_,additionalClassNames:"packages__add-edit-dialog woocommerce wcc-root",onClose:R,buttons:A},c.a.createElement(ve.a,{className:"packages__add-edit-title"},P),k&&c.a.createElement(we,{primary:!0,className:"packages__mode-select",initialSelected:O,onSelect:function(e){m(n,e.value)},options:[{value:"add-custom",label:"Custom package"},{value:"add-predefined",label:"Service package"}]}),M&&c.a.createElement(de,e),T&&c.a.createElement(ke,e))};Ue.propTypes={siteId:o.a.number.isRequired,dismissModal:o.a.func.isRequired,form:o.a.object.isRequired,updatePackagesField:o.a.func.isRequired,savePackage:o.a.func.isRequired,packageData:o.a.shape({index:o.a.number.isRequired}),setModalErrors:o.a.func.isRequired,removePackage:o.a.func.isRequired,setAddMode:o.a.func.isRequired};t.a=Object(u.b)(function(e){return{predefinedPackagesSummary:Object(Re.f)(e)}},function(e){return Object(I.b)(r()({createWcsShippingSaveActionList:xe.a,errorNotice:De.a,successNotice:De.d},We),e)})(Object(l.localize)(Ue))},796:function(e,t,n){},797:function(e,t,n){},798:function(e,t,n){},799:function(e,t,n){e.exports=n.p+"images/87ed0f18f2fdcec3f7db334f21e5ca74.svg"},800:function(e,t,n){e.exports=n.p+"images/16ca93315c92bf5c0000d63300e5cd85.svg"},801:function(e,t,n){e.exports=n.p+"images/726f32c920aabc7c6ffd42b5b4eaaf2d.svg"},802:function(e,t,n){e.exports=n.p+"images/331d1b39baf9a992bfdbacc7412570f4.svg"},803:function(e,t,n){e.exports=n.p+"images/312631cb779f098879fc3522b42eefaf.svg"},804:function(e,t,n){e.exports=n.p+"images/bf0d855ed117f2f9bdae37cd43f09a95.svg"},805:function(e,t,n){e.exports=n.p+"images/30192ac2bb4b8bef75e1a666610914d7.svg"},830:function(e,t,n){"use strict";n.r(t);var a=n(10),r=n.n(a),i=n(107),c=n.n(i),s=n(108),o=n.n(s),u=n(530),l=n.n(u),d=n(529),m=n.n(d),p=n(534),f=n.n(p),E=n(531),_=n.n(E),O=n(35),b=n.n(O),h=n(109),g=n(30),v=n(34),C=n.n(v),S=n(719),N=n(528),y=n.n(N),j=n(605),I=n(12),R=n.n(I),P=n(1),k=n(795),M=n(834),T=n(533),A=n.n(T),L=n(536),w=n.n(L),x=n(537),D=n.n(x),W=function(e){var t=e.className,n=e.compact,a=e.displayAsLink,r=e.highlight,i=e.href,c=e.onClick;return y()("card",t,{"is-card-link":a||!!i,"is-clickable":!!c,"is-compact":n,"is-highlight":r},!!r&&"is-"+r)},U=function(e){function t(){return c()(this,t),l()(this,m()(t).apply(this,arguments))}return _()(t,e),o()(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=(e.compact,e.displayAsLink),a=(e.highlight,e.tagName),i=e.href,c=e.target,s=w()(e,["children","compact","displayAsLink","highlight","tagName","href","target"]);return i?r.a.createElement("a",A()({},s,{href:i,target:c,className:W(this.props)}),r.a.createElement(D.a,{className:"card__link-indicator",icon:c?"external":"chevron-right"}),t):r.a.createElement(a,A()({},s,{className:W(this.props)}),n&&r.a.createElement(D.a,{className:"card__link-indicator",icon:c?"external":"chevron-right"}),t)}}]),t}(a.PureComponent);b()(U,"propTypes",{className:R.a.string,displayAsLink:R.a.bool,href:R.a.string,tagName:R.a.oneOfType([R.a.func,R.a.string]).isRequired,target:R.a.string,compact:R.a.bool,highlight:R.a.oneOf([!1,"error","info","success","warning"])}),b()(U,"defaultProps",{tagName:"div",highlight:!1});var V=U;function G(e){return r.a.createElement(V,A()({},e,{className:y()(e.className,"is-compact")}),e.children)}var H={en:{symbol:"K",grouping:",",decimal:"."},es:{symbol:" mil",grouping:".",decimal:","},"pt-br":{symbol:" mil",grouping:".",decimal:","},de:{symbol:" Tsd.",grouping:".",decimal:","},fr:{symbol:" k",grouping:" ",decimal:","},he:{symbol:"K",grouping:",",decimal:"."},ja:{symbol:"\u4e07",unitValue:1e4,grouping:",",decimal:"."},nl:{symbol:"K",grouping:".",decimal:","},tr:{symbol:" B",grouping:".",decimal:","},id:{symbol:" rb",grouping:".",decimal:","},"zh-cn":{symbol:"\u4e07",unitValue:1e4,grouping:",",decimal:"."},"zh-tw":{symbol:"\u842c",unitValue:1e4,grouping:",",decimal:"."},ko:{symbol:"\ucc9c",grouping:",",decimal:"."},ar:{symbol:" \u0623\u0644\u0641",grouping:"\u066c",decimal:"\u066b"},sv:{symbol:" tn",grouping:" ",decimal:","}};n(796);var F=function(e){var t=e.count,n=e.compact,a=e.numberFormat,i=e.primary,c=w()(e,["count","compact","numberFormat","primary"]);return r.a.createElement("span",A()({className:y()("count",{"is-primary":i})},Object(P.omit)(c,["translate","moment"])),n&&function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C.a.getLocaleSlug();if(isNaN(e)||!H[t])return null;var n=H[t],a=n.decimal,r=n.grouping,i=n.symbol,c=n.unitValue,s=void 0===c?1e3:c,o=e<0?"-":"",u=Math.abs(e);if(u<s)return"".concat(o).concat(u);var l=u<10*s?1:0,d=Object(v.numberFormat)(u/s,{decimals:l,thousandsSep:r,decPoint:a});return"".concat(o).concat(d).concat(i)}(t)||a(t))};F.propTypes={count:R.a.number.isRequired,numberFormat:R.a.func,primary:R.a.bool,compact:R.a.bool},F.defaultProps={primary:!1,compact:!1};var B=Object(v.localize)(F),z=(n(797),function(e){function t(){return c()(this,t),l()(this,m()(t).apply(this,arguments))}return _()(t,e),o()(t,[{key:"render",value:function(){var e="number"===typeof this.props.count,t=!(this.props.label||e||this.props.children),n=y()(this.props.className,"section-header",{"is-empty":t}),a={id:this.props.id};return r.a.createElement(G,A()({className:n,href:this.props.href},a),r.a.createElement("div",{className:"section-header__label"},r.a.createElement("span",{className:"section-header__label-text"},this.props.label),e&&r.a.createElement(B,{count:this.props.count})),r.a.createElement("div",{className:"section-header__actions"},this.props.children))}}]),t}(a.PureComponent));b()(z,"defaultProps",{label:"",href:null});var q=function(e){function t(){return c()(this,t),l()(this,m()(t).apply(this,arguments))}return _()(t,e),o()(t,[{key:"render",value:function(){var e=this.props,t=e.label,n=e.description,a=e.children,i=r.a.createElement("div",null,r.a.createElement("div",{className:"extended-header__header"},t),r.a.createElement("div",{className:"extended-header__header-description"},n));return r.a.createElement(z,{className:"extended-header",label:i},a)}}]),t}(a.Component),Z=n(36),K=n.n(Z),Q=n(821),Y=n(622),$=n(548),X=n(551),J=n(569),ee=n(556),te=n(588),ne=(n(798),n(799)),ae=n.n(ne),re=n(800),ie=n.n(re),ce=n(801),se=n.n(ce),oe=n(802),ue=n.n(oe),le=n(803),de=n.n(le),me=n(804),pe=n.n(me),fe=n(805),Ee=n.n(fe),_e={amex:ae.a,diners:ie.a,discover:se.a,jcb:ue.a,mastercard:de.a,unionpay:pe.a,visa:Ee.a},Oe={alipay:"Alipay",amex:"American Express","apple-pay":"Apple Pay",bancontact:"Bancontact","brazil-tef":"Transfer\xeancia banc\xe1ria",diners:"Diners Club",discover:"Discover",eps:"eps",giropay:"Giropay",id_wallet:"OVO",ideal:"iDEAL",jcb:"JCB",mastercard:"Mastercard",netbanking:"Net Banking",p24:"Przelewy24",paypal:"PayPal",placeholder:"Payment logo",unionpay:"UnionPay",visa:"Visa",wechat:C.a.translate("WeChat Pay",{comment:"Name for WeChat Pay - https://pay.weixin.qq.com/"}),sofort:"Sofort"},be=Object(P.keys)(Oe),he=function(e){function t(){return c()(this,t),l()(this,m()(t).apply(this,arguments))}return _()(t,e),o()(t,[{key:"render",value:function(){var e=this.props,t=e.altText,n=e.className,a=e.isCompact,i=e.type,c=e.disabled,s=y()("payment-logo","is-".concat(i),{"is-compact":a},{disabled:c},n),o=_e[i],u=o?{backgroundImage:"url(".concat(o,")")}:void 0;return r.a.createElement("div",{className:s,style:u,"aria-label":t||Oe[i]||""})}}]),t}(r.a.Component);b()(he,"propTypes",{className:R.a.string,type:R.a.oneOf(be),altText:R.a.string,isCompact:R.a.bool,disabled:R.a.bool});var ge=he,ve=function(e,t,n){var a={amex:e("American Express"),discover:e("Discover"),mastercard:e("MasterCard"),visa:e("VISA"),paypal:e("PayPal")};return a[t]?n?e("%(card)s ****%(digits)s",{args:{card:a[t],digits:n}}):a[t]:null},Ce=function(e){var t=e.translate,n=e.selected,a=e.isLoading,i=e.type,c=e.digits,s=e.name,o=e.expiry,u=e.onSelect;if(a)return r.a.createElement(M.a,{className:y()("label-settings__card","card","is-compact")},r.a.createElement(Q.a,{className:"label-settings__card-checkbox"}),r.a.createElement(ge,{className:"label-settings__card-logo",type:"placeholder",altText:""}),r.a.createElement("div",{className:"label-settings__card-details"},r.a.createElement("p",{className:"label-settings__card-number"}),r.a.createElement("p",{className:"label-settings__card-name"})),r.a.createElement("div",{className:"label-settings__card-date"},r.a.createElement("p",null)));var l=ve(t,i,c),d=l?i:"placeholder",m=l||i;return r.a.createElement(M.a,{className:y()("label-settings__card","card","is-compact"),onClick:u},r.a.createElement(Q.a,{className:"label-settings__card-checkbox",checked:n,onChange:u}),r.a.createElement(ge,{className:"label-settings__card-logo",type:d,altText:l}),r.a.createElement("div",{className:"label-settings__card-details"},r.a.createElement("p",{className:"label-settings__card-number"},m),r.a.createElement("p",{className:"label-settings__card-name"},s)),r.a.createElement("div",{className:"label-settings__card-date"},t("Expires %(date)s",{args:{date:o},context:"date is of the form MM/YY"})))};Ce.propTypes={selected:R.a.bool.isRequired,isLoading:R.a.bool,type:R.a.string,digits:R.a.string,name:R.a.string,expiry:R.a.string,onSelect:R.a.func};var Se=Object(v.localize)(Ce),Ne=n(647),ye=n(576),je=n(549),Ie=function(){return null},Re=function(){return null},Pe=function(e){function t(){var e,n;c()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=m()(t)).call.apply(e,[this].concat(i))),b()(f()(n),"renderPaymentPermissionNotice",function(){var e=n.props,t=e.canEditPayments,a=e.canEditSettings,i=e.masterUserName,c=e.masterUserLogin,s=e.translate;return!a||t?null:r.a.createElement(ee.a,{showDismiss:!1},s("Only the site owner can manage shipping label payment methods. Please contact %(ownerName)s (%(ownerLogin)s) to manage payment methods.",{args:{ownerName:i,ownerLogin:c}}))}),b()(f()(n),"refetchSettings",function(){n.props.fetchSettings(n.props.siteId)}),b()(f()(n),"renderPaymentWarningNotice",function(){var e=n.props,t=e.paymentMethodsWarning,a=e.translate;if(t)return r.a.createElement(ee.a,{status:"is-warning",showDismiss:!1,text:t},r.a.createElement(te.a,{onClick:n.refetchSettings},a("Retry")))}),b()(f()(n),"renderSettingsPermissionNotice",function(){var e=n.props,t=e.canEditSettings,a=e.masterUserName,i=e.masterUserLogin,c=e.translate;return t?null:r.a.createElement(ee.a,{showDismiss:!1},c("Only the site owner can change these settings. Please contact %(ownerName)s (%(ownerLogin)s) to change the shipping label settings.",{args:{ownerName:a,ownerLogin:i}}))}),b()(f()(n),"renderAddCardExternalInfo",function(){var e=n.props,t=e.masterUserWpcomLogin,a=e.masterUserEmail,i=e.translate;return t?r.a.createElement("p",null,i("Credit cards are retrieved from the following WordPress.com account: %(wpcomLogin)s <%(wpcomEmail)s>",{args:{wpcomLogin:t,wpcomEmail:a}})):null}),b()(f()(n),"onVisibilityChange",function(){document.hidden||n.refetchSettings(),n.addCreditCardWindow&&n.addCreditCardWindow.closed&&document.removeEventListener("visibilitychange",n.onVisibilityChange)}),b()(f()(n),"renderPaymentsSection",function(){var e=n.props,t=e.siteId,a=e.canEditPayments,i=e.paymentMethods,c=e.selectedPaymentMethod,s=e.isReloading,o=e.translate;if(!n.state.expanded){var u;if(c){var l=Object(P.find)(i,{payment_method_id:c}),d=l.card_type,m=l.card_digits;u=o("We'll charge the credit card on your account (%(card)s) to pay for the labels you print",{args:{card:ve(o,d,m)}})}else u=o("To purchase shipping labels, add a credit card.");return r.a.createElement("div",null,n.renderPaymentPermissionNotice(),r.a.createElement("p",{className:"label-settings__credit-card-description"},u),a&&r.a.createElement("p",{className:"label-settings__credit-card-description"},r.a.createElement(S.a,{onClick:function(e){e.preventDefault(),n.setState({expanded:!0})},className:y()("button","is-borderless")},o("Choose a different card"))))}var p,f;i.length?(p=o("To purchase shipping labels, choose a credit card you have on file or add a new card."),f=o("Add another credit card")):(p=o("To purchase shipping labels, add a credit card."),f=o("Add a credit card"));var E=y()("button","is-compact");return r.a.createElement("div",null,n.renderPaymentPermissionNotice(),r.a.createElement("p",{className:"label-settings__credit-card-description"},p),!s&&n.renderPaymentWarningNotice(),r.a.createElement(Ie,null),s?r.a.createElement("div",{className:y()(E,"label-settings__placeholder")},r.a.createElement(Se,{selected:!1,isLoading:!0}),r.a.createElement(Se,{selected:!1,isLoading:!0})):i.map(function(e,t){return r.a.createElement(Se,{key:t,selected:c===e.payment_method_id,type:e.card_type,name:e.name,digits:e.card_digits,expiry:e.expiry,onSelect:function(){return t=e.payment_method_id,n.props.setValue("selected_payment_method_id",t);var t}})}),r.a.createElement(Re,{siteId:t}),r.a.createElement(S.a,{className:y()(E,"label-settings__internal"),onClick:function(){n.props.openAddCardDialog(t)}},f),r.a.createElement("div",{className:"label-settings__credit-card-description label-settings__external"},n.renderAddCardExternalInfo(),r.a.createElement(S.a,{className:E,onClick:function(){n.addCreditCardWindow=window.open(Object(Ne.a)()+"/me/purchases/add-credit-card"),document.addEventListener("visibilitychange",n.onVisibilityChange)}},f," ",r.a.createElement(D.a,{icon:"external"}))))}),b()(f()(n),"renderEmailReceiptsSection",function(){var e=n.props,t=e.emailReceipts,a=e.translate,i=e.masterUserName,c=e.masterUserLogin,s=e.masterUserEmail,o=e.canEditSettings,u=e.canEditPayments;if(!Object(P.isBoolean)(t))return null;return r.a.createElement($.a,null,r.a.createElement(X.a,{className:"label-settings__cards-label"},a("Email Receipts")),r.a.createElement(Q.a,{className:"form-label label-settings__credit-card-description",label:a("Email the label purchase receipts to %(ownerName)s (%(ownerLogin)s) at %(ownerEmail)s",{args:{ownerName:i,ownerLogin:c,ownerEmail:s}}),checked:t,onChange:function(){return n.props.setValue("email_receipts",!t)},disabled:!u&&!o}))}),b()(f()(n),"renderContent",function(){var e=n.props,t=e.canEditSettings,a=e.isLoading,i=e.paperSize,c=e.storeOptions,s=e.translate;if(a)return n.renderPlaceholder();var o=Object(Y.a)(c.origin_country);return r.a.createElement("div",null,r.a.createElement($.a,null,n.renderSettingsPermissionNotice(),r.a.createElement(X.a,{className:"label-settings__cards-label"},s("Paper size")),r.a.createElement(J.a,{onChange:function(e){return n.props.setValue("paper_size",e.target.value)},value:i,disabled:!t},Object.keys(o).map(function(e){return r.a.createElement("option",{value:e,key:e},o[e])}))),r.a.createElement($.a,null,r.a.createElement(X.a,{className:"label-settings__cards-label"},s("Payment")),n.renderPaymentsSection()),n.renderEmailReceiptsSection())}),n}return _()(t,e),o()(t,[{key:"UNSAFE_componentWillMount",value:function(){this.setState({expanded:this.isExpanded(this.props)})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.selectedPaymentMethod!==this.props.selectedPaymentMethod&&this.setState({expanded:this.isExpanded(e)})}},{key:"isExpanded",value:function(e){var t=e.canEditPayments,n=e.pristine,a=e.selectedPaymentMethod;return t&&(!a||!n)}},{key:"renderPlaceholder",value:function(){return r.a.createElement("div",{className:"label-settings__placeholder"},r.a.createElement($.a,null,r.a.createElement(X.a,{className:"label-settings__cards-label"},r.a.createElement("span",null)),r.a.createElement(J.a,null)),r.a.createElement($.a,null,r.a.createElement(X.a,{className:"label-settings__cards-label"},r.a.createElement("span",null)),r.a.createElement("p",{className:"label-settings__credit-card-description"}),r.a.createElement(Se,{selected:!1,isLoading:!0}),r.a.createElement(Se,{selected:!1,isLoading:!0}),r.a.createElement(S.a,null)))}},{key:"render",value:function(){return r.a.createElement("div",{className:"label-settings__labels-container"},this.renderContent())}}]),t}(a.Component);Pe.propTypes={siteId:R.a.number.isRequired,setValue:R.a.func.isRequired};var ke=Object(h.b)(function(e,t){var n=t.siteId;return K()({isLoading:Object(je.c)(e,n)&&!Object(je.d)(e,n),isReloading:Object(je.c)(e,n)&&Object(je.d)(e,n),pristine:Object(je.o)(e,n),paymentMethods:Object(je.l)(e,n),paymentMethodsWarning:Object(je.m)(e,n),selectedPaymentMethod:Object(je.n)(e,n),paperSize:Object(je.k)(e,n),storeOptions:Object(je.h)(e,n),canEditPayments:Object(je.q)(e,n),canEditSettings:Object(je.q)(e,n)||Object(je.p)(e,n),emailReceipts:Object(je.e)(e,n)},Object(je.j)(e,n))},function(e){return Object(g.b)({openAddCardDialog:ye.b,fetchSettings:ye.a},e)})(Object(v.localize)(Pe)),Me=n(677),Te=n(535),Ae=function(e){function t(){var e,n;c()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=m()(t)).call.apply(e,[this].concat(i))),b()(f()(n),"setValue",function(e,t){n.props.onChange(),n.props.setFormDataValue(n.props.siteId,e,t)}),b()(f()(n),"onEnabledToggle",function(){n.props.onChange(),n.props.setFormDataValue(n.props.siteId,"enabled",!n.props.labelsEnabled)}),b()(f()(n),"renderContent",function(){var e=n.props,t=e.isFetchError,a=e.siteId,i=e.translate;return t?r.a.createElement("p",null,i("Unable to get your settings. Please refresh the page to try again.")):r.a.createElement(ke,{siteId:a,setValue:n.setValue})}),n}return _()(t,e),o()(t,[{key:"componentWillUnmount",value:function(){this.props.restorePristineSettings(this.props.siteId)}},{key:"render",value:function(){var e=this.props,t=e.formMeta,n=e.canManagePayments,a=e.canEditSettings,i=e.labelsEnabled,c=e.siteId,s=e.translate;if(!t)return r.a.createElement(Me.a,{siteId:c});var o=Object(P.isBoolean)(i),u=Object(P.isBoolean)(i)&&!i;return r.a.createElement("div",null,r.a.createElement(Me.a,{siteId:c}),r.a.createElement(q,{label:s("Shipping Labels"),description:s("Print shipping labels yourself and save a trip to the post office")},o&&r.a.createElement(k.a,{checked:i,onChange:this.onEnabledToggle,disabled:Boolean(!n&&!a)})),r.a.createElement(M.a,{size:"small",className:y()("card","label-settings__labels-container",{hidden:u})},this.renderContent()))}}]),t}(a.Component);Ae.propTypes={onChange:R.a.func.isRequired,submit:R.a.func};var Le=Object(h.b)(function(e){return{siteId:Object(Te.a)(e),formMeta:Object(je.g)(e),labelsEnabled:Object(je.a)(e),isFetchError:Object(je.b)(e),canManagePayments:Object(je.q)(e),canEditSettings:Object(je.p)(e)}},function(e){return Object(g.b)({setFormDataValue:ye.d,restorePristineSettings:ye.c},e)})(Object(v.localize)(Ae)),we=n(564),xe=n(682),De=n(648),We=n(678),Ue=n(562),Ve=n(544),Ge=function(e){function t(){var e,n;c()(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=l()(this,(e=m()(t)).call.apply(e,[this].concat(i))),b()(f()(n),"renderListHeader",function(e){var t=n.props.translate;return e&&e.length?r.a.createElement("div",{className:"packages__packages-row packages__packages-header"},r.a.createElement("div",{className:"packages__packages-row-icon"}),r.a.createElement("div",{className:"packages__packages-row-details"},t("Name")),r.a.createElement("div",{className:"packages__packages-row-dimensions"},t("Dimensions")),r.a.createElement("div",{className:"packages__packages-row-actions"})):null}),b()(f()(n),"renderListItem",function(e,t){var a=n.props,i=a.siteId,c=a.isFetching,s=a.form,o=a.translate,u=s.dimensionUnit,l=y()("button","is-compact"),d=null;if(e.is_user_defined){d=r.a.createElement(S.a,{className:l,onClick:function(){n.props.onChange(),n.props.editPackage(i,e)}},o("Edit"))}else{d=r.a.createElement(S.a,{className:l,onClick:function(){n.props.onChange(),n.props.removePredefinedPackage(i,e.serviceId,e.id)}},o("Remove"))}return r.a.createElement(De.a,{key:t,siteId:i,isPlaceholder:c,data:e,dimensionUnit:u},d)}),n}return _()(t,e),o()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.isFetching,a=t.fetchError,i=t.siteId,c=t.allSelectedPackages,s=t.translate;if(a)return null;var o=n?[{},{},{}]:c;return r.a.createElement("div",null,r.a.createElement(We.a,{siteId:i}),r.a.createElement(q,{label:s("Packaging"),description:s("Add boxes, envelopes, and other packages you use most frequently")},r.a.createElement(S.a,{className:y()("button"),onClick:function(){e.props.onChange(),e.props.addPackage(i)},disabled:n},s("Add package"))),r.a.createElement(M.a,{size:"small",className:y()("card","packages__packages")},this.renderListHeader(o),o.map(this.renderListItem),!n&&r.a.createElement(xe.a,this.props)))}}]),t}(a.Component);Ge.propTypes={addPackage:R.a.func.isRequired,removePackage:R.a.func.isRequired,editPackage:R.a.func.isRequired,dismissModal:R.a.func.isRequired,onChange:R.a.func.isRequired,savePackage:R.a.func.isRequired,updatePackagesField:R.a.func.isRequired,toggleOuterDimensions:R.a.func.isRequired,setModalErrors:R.a.func.isRequired,showModal:R.a.bool,form:R.a.shape({packages:R.a.object,dimensionUnit:R.a.string,weightUnit:R.a.string,packageSchema:R.a.object,predefinedSchema:R.a.oneOfType([R.a.object,R.a.array])}).isRequired};var He=Object(h.b)(function(e){var t=Object(Te.a)(e),n=Object(Ve.e)(e,t)||{};return{siteId:t,isFetching:!n.packages||n.isFetching,fetchError:Object(Ve.g)(e,t),form:n,allSelectedPackages:Object(Ve.b)(e,t)||[]}},function(e){return K()({},Object(g.b)(Ue,e))})(Object(v.localize)(Ge)),Fe=n(111),Be=n.n(Fe),ze=n(77),qe=n.n(ze),Ze=n(636),Ke=n(570),Qe=n(545),Ye=n(550),$e=function(e){var t=e.accountData,n=e.translate,a=e.errorNotice,i=e.successNotice,c=e.siteId,s=r.a.useState(!1),o=qe()(s,2),u=o[0],l=o[1],d=r.a.useState(!1),m=qe()(d,2),p=m[0],f=m[1],E=r.a.useState(t.id),_=qe()(E,2),O=_[0],b=_[1],h=r.a.useCallback(function(){l(!0)},[l]),g=r.a.useCallback(function(){l(!1)},[l]),v=r.a.useCallback(function(){(function(){var e=Be()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.prev=1,e.next=4,Qe.a(c,Qe.e.shippingCarrierDelete(O));case 4:l(!1),i(n("Your carrier account was disconnected succesfully.")),b(null),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),a(n("There was an error trying to disconnect your carrier account"));case 12:f(!1);case 13:case"end":return e.stop()}},e,null,[[1,9]])}));return function(){return e.apply(this,arguments)}})()()},[l,a,i,f,c,b,O]),C=y()("button","is-compact"),N=r.a.useMemo(function(){return[r.a.createElement(S.a,{disabled:p,className:C,onClick:g},n("Cancel")),r.a.createElement(S.a,{isPrimary:!0,disabled:p,isBusy:p,className:y()(C,"is-scary"),onClick:v},n("Disconnect"))]},[g,v,p]);return r.a.createElement("div",{className:"carrier-accounts__list-item"},r.a.createElement("div",{className:"carrier-accounts__list-item-carrier-icon"},r.a.createElement(Ze.a,{carrier:{DhlExpressAccount:"dhlexpress",DhlEcsAccount:"dhlecommerce",DhlEcommerceAsiaAccount:"dhlecommerceasia",UpsAccount:"ups"}[t.type],size:18})),r.a.createElement("div",{className:"carrier-accounts__list-item-name"},r.a.createElement("span",null,t.carrier)),r.a.createElement("div",{className:"carrier-accounts__list-item-credentials"},r.a.createElement("span",null,O?t.account:null)),r.a.createElement("div",{className:"carrier-accounts__list-item-actions"},O?r.a.createElement(S.a,{onClick:h,className:y()(C,"is-scary","is-borderless")},n("Disconnect")):r.a.createElement("a",{href:"admin.php?page=wc-settings&tab=shipping&section=woocommerce-services-settings&carrier=".concat(t.type),className:C},n("Connect"))),r.a.createElement(Ke.a,{isVisible:u,additionalClassNames:"carrier-accounts__settings-cancel-dialog",onClose:g,buttons:N},r.a.createElement("div",{className:"carrier-accounts__settings-cancel-dialog-header"},r.a.createElement("h2",{className:"carrier-accounts__settings-cancel-dialog-title"},n("Disconnect your %(carrier_name)s account",{args:{carrier_name:t.carrier}})),r.a.createElement("button",{className:"carrier-accounts__settings-cancel-dialog-close-button",onClick:g},r.a.createElement(D.a,{icon:"cross"}))),r.a.createElement("p",{className:"carrier-accounts__settings-cancel-dialog-description"},n("This will remove the connection with %(carrier_name)s. All of your %(carrier_name)s account information will be deleted and you won\u2019t see %(carrier_name)s rates.",{args:{carrier_name:t.carrier}}))))};$e.propTypes={errorNotice:R.a.func.isRequired,successNotice:R.a.func.isRequired,siteId:R.a.number.isRequired,accountData:R.a.shape({id:R.a.string,carrier:R.a.string.isRequired,account:R.a.string,type:R.a.string}).isRequired};var Xe={errorNotice:Ye.a,successNotice:Ye.d},Je=Object(g.d)(Object(h.b)(function(e){return{siteId:Object(Te.a)(e)}},Xe),v.localize)($e),et=function(e){var t=e.translate,n=e.accounts,a=void 0===n?[]:n;return 0===a.length?null:r.a.createElement("div",null,r.a.createElement(q,{label:t("Carrier account"),description:t("Set up your own carrier account by adding your credentials here")}),r.a.createElement(M.a,{size:"small",className:y()("card","carrier-accounts__list")},r.a.createElement("div",{className:"carrier-accounts__header"},r.a.createElement("div",{className:"carrier-accounts__header-icon"}),r.a.createElement("div",{className:"carrier-accounts__header-name"},t("Name")),Object(P.some)(a,"account")&&r.a.createElement("div",{className:"carrier-accounts__header-credentials"},t("Credentials")),r.a.createElement("div",{className:"carrier-accounts__header-actions"})),a.map(function(e,t){return r.a.createElement(Je,{key:t,accountData:e})})))};et.propTypes={accounts:R.a.arrayOf(R.a.shape({id:R.a.string,carrier:R.a.string.isRequired,account:R.a.string,type:R.a.string}))};var tt=Object(v.localize)(et),nt=n(820),at=Object(v.localize)(function(e){var t=e.translate;return r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{className:"button is-compact",href:"admin.php?page=wc-settings&tab=shipping&section"},t("Add to shipping zones")),r.a.createElement(nt.a,{position:"top left",text:t("To be displayed at checkout, this carrier must be added as a shipping method to selected shipping zones")},r.a.createElement("div",null,r.a.createElement(D.a,{icon:"help-outline",size:18}))))}),rt=Object(v.localize)(function(e){return(0,e.translate)("Discounted %(carrierName)s shipping labels",{args:{carrierName:e.name}})}),it={wc_services_usps:function(e){var t=e.translate;return r.a.createElement("div",{className:"live-rates-carriers-list__element element-usps"},r.a.createElement("div",{className:"live-rates-carriers-list__icon"},r.a.createElement(Ze.a,{carrier:"usps",size:18})),r.a.createElement("div",{className:"live-rates-carriers-list__carrier"},t("USPS")),r.a.createElement("div",{className:"live-rates-carriers-list__features"},r.a.createElement("ul",null,r.a.createElement("li",null,t("Ship with the largest delivery network in the United States")),r.a.createElement("li",null,r.a.createElement(rt,{name:t("USPS")})),r.a.createElement("li",null,t("Live rates for %(carrierName)s at checkout",{args:{carrierName:t("USPS")}})))),r.a.createElement("div",{className:"live-rates-carriers-list__actions"},r.a.createElement(at,null)))},wc_services_dhlexpress:function(e){var t=e.translate;return r.a.createElement("div",{className:"live-rates-carriers-list__element element-dhlexpress"},r.a.createElement("div",{className:"live-rates-carriers-list__icon"},r.a.createElement(Ze.a,{carrier:"dhlexpress",size:18})),r.a.createElement("div",{className:"live-rates-carriers-list__carrier"},t("DHL Express")),r.a.createElement("div",{className:"live-rates-carriers-list__features"},r.a.createElement("ul",null,r.a.createElement("li",null,t("Express delivery from the experts in international shipping")),r.a.createElement("li",null,r.a.createElement(rt,{name:t("DHL Express")})),r.a.createElement("li",null,t("Live rates for %(carrierName)s at checkout",{args:{carrierName:t("DHL Express")}})))),r.a.createElement("div",{className:"live-rates-carriers-list__actions"},r.a.createElement(at,null)))}},ct=Object(v.localize)(function(e){var t=e.translate,n=e.carrierIds;return r.a.createElement(V,{className:"live-rates-carriers-list__wrapper"},r.a.createElement("div",{className:"live-rates-carriers-list__heading"},r.a.createElement("div",{className:"live-rates-carriers-list__icon"}),r.a.createElement("div",{className:"live-rates-carriers-list__carrier"},t("Carrier")),r.a.createElement("div",{className:"live-rates-carriers-list__features"},t("Features")),r.a.createElement("div",{className:"live-rates-carriers-list__actions"})),n.map(function(e){var n=it[e];return n?r.a.createElement(n,{key:e,translate:t}):null}))}),st=["wc_services_usps","wc_services_dhlexpress"],ot=Object(v.localize)(function(e){var t=e.translate,n=e.carrierIds;return!1===n.some(function(e){return st.includes(e)})?null:r.a.createElement("div",null,r.a.createElement(q,{label:t("Live rates at checkout"),description:t("Show live rates directly on your store - never under or overcharge for shipping again")}),r.a.createElement(ct,{carrierIds:n}))}),ut=function(e){var t=e.translate,n=e.data,a=e.errorNotice,i=e.successNotice,c=e.siteId,s=r.a.useState(n.is_active),o=qe()(s,2),u=o[0],l=o[1],d=r.a.useState(!1),m=qe()(d,2),p=m[0],f=m[1],E=[],_=!1;n.usage_data.forEach(function(e,t){E.push(r.a.createElement("div",{key:t},e.label,": ",e.count,"/",e.limit)),_=_||e.count>e.limit});var O=y()("button","is-compact");return r.a.createElement("div",{className:"subscriptions-usage__list-item"},r.a.createElement("div",{className:"subscriptions-usage__list-item-carrier-icon"},r.a.createElement(Ze.a,{carrier:function(e){var t=[[/^DHL/g,"dhlexpress"],[/^UPS/g,"ups"],[/^USPS/g,"usps"]],n=t.findIndex(function(t){return qe()(t,1)[0].test(e)});return n>-1?t[n][1]:""}(n.product_name),size:18})),r.a.createElement("div",{className:"subscriptions-usage__list-item-name"},r.a.createElement("span",null,n.product_name)),r.a.createElement("div",{className:y()("subscriptions-usage__list-item-usage",{"is-over-limit":_})},r.a.createElement("span",{className:"subscriptions-usage__list-item-usage-numbers"},E),r.a.createElement(nt.a,{text:t("Your store is over the limit for rate calls this month and your account will be charged for overages. To prevent future overage charges you can upgrade your plan.")},r.a.createElement("span",{className:"subscriptions-usage__list-item-usage-icon"},r.a.createElement(D.a,{icon:"info-outline",size:18})))),r.a.createElement("div",{className:"subscriptions-usage__list-item-actions"},u?r.a.createElement("a",{href:"https://woocommerce.com/my-account/my-subscriptions/",className:O},t("Manage")):r.a.createElement(S.a,{onClick:function(){!function(){var e=Be()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.prev=1,e.next=4,Qe.c(c,Qe.e.subscriptionActivate(n.product_key));case 4:l(!0),i(t("Your subscription was succesfully activated.")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),a(t("There was an error trying to activate your subscription."));case 11:f(!1);case 12:case"end":return e.stop()}},e,null,[[1,8]])}));return function(){return e.apply(this,arguments)}}()()},disabled:p,isBusy:p,className:O},t("Activate"))))};ut.propTypes={errorNotice:R.a.func.isRequired,successNotice:R.a.func.isRequired,siteId:R.a.number.isRequired,data:R.a.shape({product_name:R.a.string.isRequired,is_active:R.a.bool.isRequired,usage_data:R.a.arrayOf(R.a.shape({limit:R.a.number,count:R.a.number,label:R.a.string}))}).isRequired};var lt={errorNotice:Ye.a,successNotice:Ye.d},dt=Object(g.d)(Object(h.b)(function(e){return{siteId:Object(Te.a)(e)}},lt),v.localize)(ut),mt=function(e){var t=e.translate,n=e.subscriptions,a=void 0===n?[]:n;return 0===a.length?null:r.a.createElement("div",null,r.a.createElement(q,{label:t("Shipping method"),description:t("View and manage your subscription usage")}),r.a.createElement(M.a,{size:"small",className:y()("card","subscriptions-usage__list")},r.a.createElement("div",{className:"subscriptions-usage__header"},r.a.createElement("div",{className:"subscriptions-usage__header-icon"}),r.a.createElement("div",{className:"subscriptions-usage__header-name"},t("Name")),r.a.createElement("div",{className:"subscriptions-usage__header-usage"},t("Usage")),r.a.createElement("div",{className:"subscriptions-usage__header-actions"})),a.map(function(e,t){return r.a.createElement(dt,{key:t,data:e})})))};mt.propTypes={subscriptions:R.a.arrayOf(R.a.shape({product_name:R.a.string.isRequired,usage_limit:R.a.number,usage_count:R.a.number}))};var pt=Object(v.localize)(mt),ft=n(604),Et=n(600),_t=n(580),Ot=n(540),bt=n(618),ht=/(?:[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/,gt=/^\d{5}$/,vt=/^[a-zA-Z0-9]{6}$/,Ct=/^([a-zA-Z0-9]{9}|[a-zA-Z0-9]{13})$/,St=/^\d{10}$/,Nt=/^(19|20)\d\d-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])$/,yt=/^(?:(?:(?:https?|ftp):)?\/\/)*(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[\/?#]\S*)?$/i,jt=Object(v.localize)(function(e){var t=e.isVisible,n=e.onCancel,i=e.onConfirm,c=e.translate,s=y()("button","is-compact"),o=Object(a.useMemo)(function(){return[r.a.createElement(S.a,{className:s,onClick:n,key:"cancel"},c("Cancel")),r.a.createElement(S.a,{isPrimary:!0,className:y()(s,"is-scary"),onClick:i,key:"ok"},c("Ok"))]},[n,i,c]);return r.a.createElement(Ke.a,{isVisible:t,additionalClassNames:"carrier-accounts__settings-cancel-dialog",onClose:n,buttons:o},r.a.createElement("div",{className:"carrier-accounts__settings-cancel-dialog-header"},r.a.createElement("h2",{className:"carrier-accounts__settings-cancel-dialog-title"},c("Cancel connection")),r.a.createElement("button",{className:"carrier-accounts__settings-cancel-dialog-close-button",onClick:n},r.a.createElement(D.a,{icon:"cross"}))),r.a.createElement("p",{className:"carrier-accounts__settings-cancel-dialog-description"},c("This action will delete any information entered on the form.")))}),It=Object(g.d)(Object(h.b)(function(e,t){return{stateNames:Object(Ot.k)(e,t.countryValue)}}),v.localize)(function(e){var t=e.onDropdownUpdate,n=e.onTextFieldUpdate,i=e.error,c=e.stateNames,s=e.translate,o=e.value,u=Object(a.useMemo)(function(){return c?K()({"":s("Select one\u2026")},c):c},[c,s]);return u?r.a.createElement(ft.a,{id:"state",name:"state",title:s("State"),value:o,valuesMap:u,updateValue:t,error:i}):r.a.createElement(_t.a,{id:"state",name:"state",title:s("State"),updateValue:n,error:i})}),Rt=function(e){var t=e.translate,n=e.errorNotice,i=e.successNotice,c=e.countryNames,s=e.siteId,o=Object(a.useState)(!1),u=qe()(o,2),l=u[0],d=u[1],m=Object(a.useState)(!1),p=qe()(m,2),f=p[0],E=p[1],_=Object(a.useState)(!1),O=qe()(_,2),h=O[0],g=O[1],v=Object(a.useState)({country:"US"}),C=qe()(v,2),N=C[0],j=C[1],I=function(e,t,n){var a={},r=["account_number","name","street1","city","state","country","postal_code","phone","email","title","website",t&&"invoice_number",t&&"invoice_date"].filter(Boolean),i=!0,c=!1,s=void 0;try{for(var o,u=r[Symbol.iterator]();!(i=(o=u.next()).done);i=!0){var l=o.value,d=e[l];(!d||"string"===typeof d&&""===d.trim())&&(a[l]=n("This field is required"))}}catch(m){c=!0,s=m}finally{try{i||null==u.return||u.return()}finally{if(c)throw s}}return e.account_number&&!e.account_number.match(vt)&&(a.account_number=n("The UPS account number needs to be 6 letters and digits in length")),e.phone&&!e.phone.match(St)&&(a.phone=n("The phone number needs to be 10 digits in length")),"US"===e.country&&e.postal_code&&!e.postal_code.match(gt)&&(a.postal_code=n("The ZIP/Postal code needs to be 5 digits in length")),e.email&&!e.email.match(ht)&&(a.email=n("The email format is not valid")),e.website&&!e.website.match(yt)&&(a.website=n("The company website format is not valid")),t&&e.invoice_number&&!e.invoice_number.match(Ct)&&(a.invoice_number=n("The invoice number needs to be 9 or 13 letters and digits in length")),t&&e.invoice_date&&!e.invoice_date.match(Nt)&&(a.invoice_date=n("The date must be a valid date in the format YYYY-MM-DD")),a}(N,f,t),R=function(e){return N[e]?Object(bt.a)(N[e]):""},P=Object(a.useCallback)(function(e,t){var n=t.currentTarget.id;j(function(t){return K()({},t,b()({},n,e))})},[j]),k=Object(a.useCallback)(function(e,t){j(function(n){return K()({},n,b()({},t,e))})},[j]),T=Object(a.useCallback)(function(){(function(){var e=Be()(regeneratorRuntime.mark(function e(){var a,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.prev=1,a=K()({},N,{type:"UpsAccount"}),f||(delete a.invoice_number,delete a.invoice_date,delete a.invoice_amount,delete a.invoice_currency,delete a.invoice_control_id),e.next=6,Qe.c(s,Qe.e.shippingCarrier(),a);case 6:if(e.sent.success){e.next=9;break}throw new Error;case 9:i(t("Your carrier account was connected successfully.")),(r=new URL(window.location.href)).searchParams.delete("carrier"),window.onbeforeunload=null,window.location.href=r.href,e.next=20;break;case 16:e.prev=16,e.t0=e.catch(1),d(!1),n(t("There was an error connecting to your %(carrierName)s account. Please check that all of the information entered matches your %(carrierName)s account and try to connect again.",{args:{carrierName:"UPS"}}));case 20:case"end":return e.stop()}},e,null,[[1,16]])}));return function(){return e.apply(this,arguments)}})()()},[d,n,i,t,N,f]),A=Object(a.useCallback)(function(){E(function(e){return!e})},[E]),L=Object(a.useCallback)(function(){g(!1)},[g]),w=Object(a.useCallback)(function(){var e=new URL(window.location.href);e.searchParams.delete("carrier"),window.onbeforeunload=null,window.location.href=e.href},[]),x=Object(a.useCallback)(function(){g(!0)},[g]),D=y()("button","is-compact");return r.a.createElement("div",{className:"carrier-accounts__settings-container"},r.a.createElement("div",{className:"carrier-accounts__settings"},r.a.createElement("div",{className:"carrier-accounts__settings-info"},r.a.createElement("h4",{className:"carrier-accounts__settings-subheader-above-description"},t("Connect your UPS account")),r.a.createElement("p",{className:"carrier-accounts__settings-subheader-description"},t("Set up your own UPS carrier account to compare rates and print labels from multiple carriers in WooCommerce Shipping. Learn more about adding {{a}}carrier accounts{{/a}}.",{components:{a:r.a.createElement("a",{href:"https://docs.woocommerce.com/document/productid-type-permalinks/using-your-own-ups-account-in-woocommerce-shipping/"})}})),r.a.createElement("p",{className:"carrier-accounts__settings-subheader-description"},t("If you need a UPS account number, go to {{a}}UPS.com{{/a}} to create a new account.",{components:{a:r.a.createElement("a",{href:"https://ups.com/"})}}))),r.a.createElement("div",{className:"carrier-accounts__settings-form"},r.a.createElement(M.a,{className:y()("card","is-compact")},r.a.createElement("h4",{className:"carrier-accounts__settings-subheader"},t("General information")),r.a.createElement("p",{className:"carrier-accounts__settings-subheader-description"},t("This is the account number and address from your UPS profile"))),r.a.createElement(M.a,{className:y()("carrier-accounts__settings-account-number","card","is-compact")},r.a.createElement(_t.a,{id:"account_number",title:t("Account number"),updateValue:k,error:"string"===typeof N.account_number?I.account_number:void 0})),r.a.createElement(M.a,{className:y()("carrier-accounts__settings-address","card","is-compact")},r.a.createElement(_t.a,{id:"name",title:t("Name"),updateValue:k,error:"string"===typeof N.name?I.name:void 0}),r.a.createElement(_t.a,{id:"street1",title:t("Address"),updateValue:k,error:"string"===typeof N.street1?I.street1:void 0}),r.a.createElement("div",{className:"carrier-accounts__settings-two-columns"},r.a.createElement(_t.a,{id:"street2",title:t("Address 2 (optional)"),updateValue:k,error:"string"===typeof N.street2?I.street2:void 0}),r.a.createElement(_t.a,{id:"city",title:t("City"),updateValue:k,error:"string"===typeof N.city?I.city:void 0})),r.a.createElement("div",{className:"carrier-accounts__settings-two-columns"},r.a.createElement(It,{countryValue:N.country,value:R("state"),onDropdownUpdate:P,onTextFieldUpdate:k,error:"string"===typeof N.state?I.state:void 0}),r.a.createElement(ft.a,{id:"country",title:t("Country"),value:R("country"),valuesMap:c,updateValue:P,error:"string"===typeof N.country?I.country:void 0})),r.a.createElement("div",{className:"carrier-accounts__settings-two-columns"},r.a.createElement(_t.a,{id:"postal_code",title:t("ZIP/Postal code"),updateValue:k,error:"string"===typeof N.postal_code?I.postal_code:void 0}),r.a.createElement(_t.a,{id:"phone",title:t("Phone"),updateValue:k,error:"string"===typeof N.phone?I.phone:void 0})),r.a.createElement(_t.a,{id:"email",title:t("Email"),updateValue:k,error:"string"===typeof N.email?I.email:void 0})),r.a.createElement(M.a,{className:y()("carrier-accounts__settings-company-info","card","is-compact")},r.a.createElement("div",{className:"carrier-accounts__settings-header"},r.a.createElement("h4",{className:"carrier-accounts__settings-subheader"},t("Company information")),r.a.createElement("p",{className:"carrier-accounts__settings-subheader-description"},t("This is the company info you used to create your UPS account"))),r.a.createElement(_t.a,{id:"company",title:t("Company name"),updateValue:k,error:"string"===typeof N.company?I.company:void 0}),r.a.createElement("div",{className:"carrier-accounts__settings-two-columns"},r.a.createElement(_t.a,{id:"title",title:t("Job title"),updateValue:k,error:"string"===typeof N.title?I.title:void 0}),r.a.createElement(_t.a,{id:"website",title:t("Company website"),updateValue:k,error:"string"===typeof N.website?I.website:void 0}))),r.a.createElement(M.a,{className:y()("carrier-accounts__settings-ups-info","card","is-compact")},r.a.createElement("div",{className:"carrier-accounts__settings-header"},r.a.createElement("h4",{className:"carrier-accounts__settings-subheader"},t("UPS account information")),r.a.createElement(Et.a,{id:"enable_ups_invoice_fields",checked:f,onChange:A}),r.a.createElement("span",null,t("I have been issued an invoice from UPS within the past 90 days"))),f&&r.a.createElement("div",{className:"carrier-accounts__settings-ups-invoice"},r.a.createElement("div",{className:"carrier-accounts__settings-two-columns"},r.a.createElement(_t.a,{id:"invoice_number",defaultValue:N.invoice_number,title:t("UPS invoice number"),updateValue:k,error:"string"===typeof N.invoice_number?I.invoice_number:void 0}),r.a.createElement(_t.a,{id:"invoice_date",defaultValue:N.invoice_date,title:t("UPS invoice date"),updateValue:k,error:"string"===typeof N.invoice_date?I.invoice_date:void 0,placeholder:"YYYY-MM-DD"})),r.a.createElement("div",{className:"carrier-accounts__settings-two-columns"},r.a.createElement(_t.a,{id:"invoice_amount",defaultValue:N.invoice_amount,title:t("UPS invoice amount"),updateValue:k,error:"string"===typeof N.invoice_amount?I.invoice_amount:void 0}),r.a.createElement(_t.a,{id:"invoice_currency",defaultValue:N.invoice_currency,title:t("UPS invoice currency"),updateValue:k,error:"string"===typeof N.invoice_currency?I.invoice_currency:void 0})),r.a.createElement(_t.a,{id:"invoice_control_id",defaultValue:N.invoice_control_id,title:t("UPS invoice control id"),updateValue:k,error:"string"===typeof N.invoice_control_id?I.invoice_control_id:void 0}))),r.a.createElement(M.a,{className:y()("carrier-accounts__settings-actions","card","is-compact")},r.a.createElement(S.a,{isPrimary:!0,className:D,onClick:T,disabled:Object.keys(I).length>0||l,isBusy:l},t("Connect")),r.a.createElement(S.a,{className:D,onClick:x},t("Cancel")))),r.a.createElement(jt,{isVisible:h,onConfirm:w,onCancel:L})))};Rt.propTypes={siteId:R.a.number,countryNames:R.a.object,translate:R.a.func,errorNotice:R.a.func,successNotice:R.a.func};var Pt={errorNotice:Ye.a,successNotice:Ye.d},kt=Object(g.d)(Object(h.b)(function(e){return{countryNames:Object(Ot.c)(e),siteId:Object(Te.a)(e)}},Pt),v.localize)(Rt),Mt=function(e){var t=e.visibility,n=e.label,i=e.id,c=e.value,s=e.onChange,o=Object(a.useCallback)(function(){s(i,!c)},[i,c,s]),u=Object(a.useCallback)(function(e){s(i,e)},[i,c,s]);switch(t){case"select":case"checkbox":return r.a.createElement(r.a.Fragment,null,r.a.createElement(Et.a,{id:i,onChange:o,checked:c||!1}),r.a.createElement("label",{htmlFor:i},r.a.createElement("span",null,n)));case"invisible":case"masked":case"readonly":case"password":case"visible":default:return r.a.createElement(_t.a,{id:i,title:n,updateValue:u})}},Tt=function(e){var t=e.translate,n=e.siteId,i=e.carrierType,c=e.errorNotice,s=e.successNotice,o=e.carrierName,u=e.carrierDescription,l=e.registrationFields,d=Object(a.useState)({}),m=qe()(d,2),p=m[0],f=m[1],E=Object(a.useState)(!1),_=qe()(E,2),O=_[0],h=_[1],g=Object(a.useCallback)(function(e,t){f(function(n){return K()({},n,b()({},e,t))})},[f]),v=Object(a.useCallback)(function(){(function(){var e=Be()(regeneratorRuntime.mark(function e(){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.prev=1,e.next=4,Qe.c(n,Qe.e.shippingCarrier(),K()({},p,{type:i}));case 4:if(e.sent.success){e.next=7;break}throw new Error;case 7:s(t("Your carrier account was connected successfully.")),(a=new URL(window.location.href)).searchParams.delete("carrier"),window.onbeforeunload=null,window.location.href=a.href,e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),c(t("There was an error connecting to your %(carrierName)s account. Please check that all of the information entered matches your %(carrierName)s account and try to connect again.",{args:{carrierName:o}}));case 17:h(!1);case 18:case"end":return e.stop()}},e,null,[[1,14]])}));return function(){return e.apply(this,arguments)}})()()},[O,h,n,i,o,p,c,t]),C=Object(a.useCallback)(function(){history.back()},[]),N=y()("button","is-compact");return r.a.createElement("div",{className:"carrier-accounts__settings-container"},r.a.createElement("div",{className:"carrier-accounts__settings"},r.a.createElement("div",{className:"carrier-accounts__settings-info"},r.a.createElement("h4",{className:"carrier-accounts__settings-subheader-above-description"},t("Connect your %(carrierName)s account",{args:{carrierName:o}})),r.a.createElement("p",{className:"carrier-accounts__settings-subheader-description"},u||t("Set up your own carrier account to compare rates and print labels from multiple carriers in WooCommerce Shipping. Learn more about adding {{a}}carrier accounts{{/a}}.",{components:{a:r.a.createElement("a",{href:"https://docs.woocommerce.com/document/using-your-own-carrier-account-in-woocommerce-shipping"})}}))),r.a.createElement("div",{className:"carrier-accounts__settings-form"},r.a.createElement(M.a,{className:y()("card","is-compact")},r.a.createElement("h4",{className:"carrier-accounts__settings-subheader"},t("General Information"))),r.a.createElement(M.a,{className:y()("card","is-compact")},l&&Object.entries(l).map(function(e){var t=qe()(e,2),n=t[0],a=t[1];return r.a.createElement(Mt,{key:n,id:n,visibility:a.visibility,label:a.label,value:p[n],onChange:g})})),r.a.createElement(M.a,{className:y()("carrier-accounts__settings-actions","card","is-compact")},r.a.createElement(S.a,{isPrimary:!0,className:N,onClick:v,disabled:O},t("Connect")),r.a.createElement(S.a,{isSecondary:!0,className:N,onClick:C},t("Cancel"))))))},At={errorNotice:Ye.a,successNotice:Ye.d};Tt.propTypes={errorNotice:R.a.func,successNotice:R.a.func,carrierType:R.a.string,carrierName:R.a.string,carrierDescription:R.a.string,registrationFields:R.a.object,siteId:R.a.number,translate:R.a.func};var Lt=Object(g.d)(Object(h.b)(function(e){return{siteId:Object(Te.a)(e)}},At),v.localize)(Tt),wt=function(e){var t=e.translate,n=Object(a.useState)([]),i=qe()(n,2),c=i[0],s=i[1];if(Object(a.useEffect)(function(){(function(){var t=Be()(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Qe.b(e.siteId,Qe.e.shippingCarrierTypes());case 2:n=t.sent,s(n.carriers);case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}})()()},[e.siteId,s]),!c||0===c.length)return r.a.createElement("div",null,t("Loading"),"...");var o=c.filter(function(t){return t.type===e.carrier}),u=qe()(o,1)[0];return u?r.a.createElement("div",null,r.a.createElement(Lt,{carrierType:u.type,carrierName:u.name,carrierDescription:u.description,registrationFields:u.fields})):r.a.createElement("div",null,t("%(carrierName)s not supported.",{args:{carrierName:e.carrier}}))};wt.propTypes={carrier:R.a.string.isRequired,siteId:R.a.number};var xt=Object(h.b)(function(e){return{siteId:Object(Te.a)(e)}})(Object(v.localize)(wt)),Dt=n(675),Wt=n(649),Ut=function(e){function t(e){var n;return c()(this,t),n=l()(this,m()(t).call(this,e)),b()(f()(n),"onChange",function(){n.setState({pristine:!1})}),b()(f()(n),"onSaveSuccess",function(){var e=n.props,t=e.translate,a=e.orderId,r=e.orderHref,i=e.paymentMethodSelected,c=r&&i?{button:t("Return to Order #%(orderId)s",{args:{orderId:a}}),href:r}:{duration:5e3};return n.setState({pristine:!0}),n.props.successNotice(t("Your shipping settings have been saved."),c)}),b()(f()(n),"onSaveFailure",function(){var e=n.props.translate;return n.props.errorNotice(e("Unable to save your shipping settings. Please try again."))}),b()(f()(n),"onSaveChanges",function(){n.props.createWcsShippingSaveActionList(n.onSaveSuccess,n.onSaveFailure)}),n.state={pristine:!0},n}return _()(t,e),o()(t,[{key:"render",value:function(){var e=this.props,t=e.carrier,n=e.carrierAccounts,a=e.liveRatesTypes,i=e.subscriptions,c=e.isSaving,s=e.translate;return t?"UpsAccount"===t?r.a.createElement("div",null,r.a.createElement(j.a,{id:"notices",notices:we.a.list}),r.a.createElement(kt,null)):r.a.createElement("div",null,r.a.createElement(j.a,{id:"notices",notices:we.a.list}),r.a.createElement(xt,{carrier:t})):r.a.createElement("div",null,r.a.createElement(j.a,{id:"notices",notices:we.a.list}),r.a.createElement(Le,{onChange:this.onChange}),r.a.createElement(He,{onChange:this.onChange}),r.a.createElement(ot,{carrierIds:a}),r.a.createElement(tt,{accounts:n}),r.a.createElement(pt,{subscriptions:i}),r.a.createElement(S.a,{isPrimary:!0,className:y()("button"),onClick:this.onSaveChanges,isBusy:c,disabled:c},s("Save changes")),r.a.createElement(Dt.a,{isChanged:!this.state.pristine}))}}]),t}(a.Component),Vt=Object(h.b)(function(e){var t=Object(je.g)(e),n=Object(Ve.e)(e);return{isSaving:t.isSaving||n.isSaving,paymentMethodSelected:Boolean(Object(je.n)(e))}},function(e){return Object(g.b)({createWcsShippingSaveActionList:Wt.a,errorNotice:Ye.a,successNotice:Ye.d},e)})(Object(v.localize)(Ut)),Gt=n(656),Ht=n(655),Ft=n(592),Bt=n(661),zt=n(637),qt=n(662),Zt=n(611),Kt=n(116),Qt=n(46);t.default=function(e){var t=e.order_id,n=e.order_href,a=e.carrier,i=e.continents,c=e.carrier_accounts,s=e.live_rates_types,o=e.subscriptions;return{getReducer:function(){return Object(Qt.a)({extensions:Object(Qt.a)({woocommerce:Object(Qt.a)({woocommerceServices:Object(Qt.a)({1:Object(Qt.a)({packages:Ht.a,labelSettings:Gt.a})}),sites:Object(Qt.a)({1:Object(Qt.a)({data:Object(Qt.a)({locations:qt.a})})})})}),notices:Ft.a,ui:function(){return{selectedSiteId:1}}})},getInitialState:function(){return{extensions:{woocommerce:{sites:{1:{data:{locations:i}}}}}}},getStateForPersisting:function(e){return delete e.notices,e},getStateKey:function(){return"wcs-account-settings"},getMiddlewares:function(){return[Object(Kt.b)(Object(Zt.a)(zt.a,Bt.a))]},View:function(){return r.a.createElement(Vt,{orderId:t,orderHref:n,carrier:a,carrierAccounts:c,liveRatesTypes:s,subscriptions:o})}}}}}]);